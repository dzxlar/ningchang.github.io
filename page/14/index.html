<!doctype html>



  


<html class="theme-next muse use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.1" />






<meta property="og:type" content="website">
<meta property="og:title" content="dzxblog">
<meta property="og:url" content="http://yoursite.com/page/14/index.html">
<meta property="og:site_name" content="dzxblog">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="dzxblog">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":0,"b2t":false,"scrollpercent":false},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/page/14/"/>





  <title>dzxblog</title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  















  
  
    
  

  <div class="container sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">dzxblog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/06/05/【Java8】Guava——Function/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="dzx">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="http://wx2.sinaimg.cn/mw690/63b4ac8dgy1ffzs5lll1oj20zk0qoq4z.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="dzxblog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/06/05/【Java8】Guava——Function/" itemprop="url">【Java8】Guava——Function</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-06-05T10:37:37+08:00">
                2017-06-05
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Guava/" itemprop="url" rel="index">
                    <span itemprop="name">Guava</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="函数式编程"><a href="#函数式编程" class="headerlink" title="函数式编程"></a>函数式编程</h2><blockquote>
<p>函数式编程是一种历久弥新的编程范式，比起命令式编程，它更加关注程序的执行结果而不是执行过程。</p>
</blockquote>
<p>Java 始终是一个面向对象（命令式）的语言，在我们使用函数式编程这种黑魔法之前，需要确认：同样的功能，使用函数式编程来实现，能否在健壮性和可维护性上，超过使用面向对象（命令式）编程的实现？</p>
<h2 id="Function"><a href="#Function" class="headerlink" title="Function"></a>Function</h2><p><strong>实例化这个仿函数接口要求至少要实现 apply 方法。只有在需要判断两个函数是否等价的时候才覆盖实现 equals 方法</strong></p>
<p>Guava<br><img src="http://img.blog.csdn.net/20170410171245436?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMjA1OTc0Nzk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述"></p>
<p>Java8</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">@FunctionalInterface</div><div class="line">public interface Function&lt;T, R&gt;&#123;</div><div class="line">	</div><div class="line">	R apply(T t);</div><div class="line">	</div><div class="line">	default &lt;V&gt; Function&lt;V, R&gt; compose(Function&lt;? super V, ? extends T&gt; before) &#123;</div><div class="line">        Objects.requireNonNull(before);</div><div class="line">        return (V v) -&gt; apply(before.apply(v));</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    default &lt;V&gt; Function&lt;T, V&gt; andThen(Function&lt;? super R, ? extends V&gt; after) &#123;</div><div class="line">        Objects.requireNonNull(after);</div><div class="line">        return (T t) -&gt; after.apply(apply(t));</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    static &lt;T&gt; Function&lt;T, T&gt; identity() &#123;</div><div class="line">        return t -&gt; t;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="简单实例"><a href="#简单实例" class="headerlink" title="简单实例"></a>简单实例</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">Function&lt;Double, Double&gt; sqrt = new Function&lt;Double, Double&gt;() &#123;</div><div class="line">    public Double apply(Double input) &#123;</div><div class="line">        return Math.sqrt(input);</div><div class="line">    &#125;</div><div class="line">&#125;;</div><div class="line">sqrt.apply(4.0);//2.0</div></pre></td></tr></table></figure>
<p>这里我们通过实例化一个匿名类的方式来完成了仿函数的定义、初始化和赋值。</p>
<p>注意到仿函数始终不是一个函数，而是一个对象，我们只能调用这个对象的方法来模拟函数调用。</p>
<p>这种 Function 接口的用法和函数式编程中将一个匿名函数赋值给变量的做法类似。当然，更加常见的函数定义方式是显式的声明一个函数然后实现它。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">class SqrtFunction implements Function&lt;Double, Double&gt; &#123;</div><div class="line">    public Double apply(Double input) &#123;</div><div class="line">        return Math.sqrt(input);</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line">new SqrtFunction().apply(4.0);//2.0</div></pre></td></tr></table></figure>
<h3 id="仅接收两个参数的函数"><a href="#仅接收两个参数的函数" class="headerlink" title="仅接收两个参数的函数"></a>仅接收两个参数的函数</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">Function&lt;SimpleEntry&lt;Double, Double&gt;, Double&gt; power</div><div class="line">        = new Function&lt;SimpleEntry&lt;Double, Double&gt;, Double&gt;() &#123;</div><div class="line">    public Double apply(SimpleEntry&lt;Double, Double&gt; input) &#123;</div><div class="line">        return Math.pow(input.getKey(), input.getValue());</div><div class="line">    &#125;</div><div class="line">&#125;;</div><div class="line">power.apply(new SimpleEntry&lt;Double, Double&gt;(3.0, 2.0));//9.0</div></pre></td></tr></table></figure>
<h3 id="接收可变参数的函数"><a href="#接收可变参数的函数" class="headerlink" title="接收可变参数的函数"></a>接收可变参数的函数</h3><blockquote>
<p>由于变长参数实际上是 Java 编译器提供的语法糖，在编译期间会被解语法糖变成对象数组 Object[]，而且变长参数无法作为泛型参数，这里直接使用对象数组作为参数<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">Function&lt;Double[], Double&gt; sum = new Function&lt;Double[], Double&gt;() &#123;</div><div class="line">    public Double apply(Double[] input) &#123;</div><div class="line">        Double result = 0.0;</div><div class="line">        for (Double element : input) &#123;</div><div class="line">            result += element;</div><div class="line">        &#125;</div><div class="line">        return result;</div><div class="line">    &#125;</div><div class="line">&#125;;</div><div class="line">sum.apply(new Double[]&#123;3.0, 4.0, 5.1&#125;);//12.1</div></pre></td></tr></table></figure></p>
</blockquote>
<hr>
<h2 id="Functions"><a href="#Functions" class="headerlink" title="Functions"></a>Functions</h2><p><img src="http://img.blog.csdn.net/20170410172300941?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMjA1OTc0Nzk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述"></p>
<ul>
<li>toStringFunction() : f(x)=x.toString()f(x)=x.toString() </li>
<li>identity()：f(x)=x</li>
<li>constanct() :  f(x)=a</li>
<li>compose() :  返回一个复合函数 h(x)=g(f(x))h(x)=g(f(x))，以两个函数为入参，返回这两个函数复合之后的函数。例如我们有函数 f:X→Yf:X→Y 和函数 g:Y→Zg:Y→Z，复合之后得到复合函数 g∘f:X→Z</li>
</ul>
<hr>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">forMap(java.util.Map&lt;K,V&gt;)  //f(x)=map.get(x)</div><div class="line">forMap(java.util.Map&lt;K,? extends V&gt;, V) //区别在于这个方法的第二个参数是一个默认值，当映射中不包含入参键的时候，第一个方法返回的函数会抛出异常，而第二个方法返回的函数会返回默认值</div><div class="line">forPredicate() //以 Guava 的谓词实例为入参 返回一个 Function 实例</div><div class="line">forSupplier() //以 Guava 的 Supplier 实例为入参，返回一个 Function 实例</div></pre></td></tr></table></figure>
<p><a href="https://blog.jamespan.me/2015/03/22/guava-functional-programing-1" target="_blank" rel="external">Function更多参考</a></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/06/05/【Java8】Guava——Preconditions/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="dzx">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="http://wx2.sinaimg.cn/mw690/63b4ac8dgy1ffzs5lll1oj20zk0qoq4z.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="dzxblog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/06/05/【Java8】Guava——Preconditions/" itemprop="url">【Java8】Guava——Preconditions</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-06-05T10:36:40+08:00">
                2017-06-05
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Guava/" itemprop="url" rel="index">
                    <span itemprop="name">Guava</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="Preconditions"><a href="#Preconditions" class="headerlink" title="Preconditions"></a>Preconditions</h2><blockquote>
<p>Precondition 是先决条件的意思，也叫前置条件，可以人为是使函数正常执行的参数需要满足的条件</p>
</blockquote>
<p>Preconditions 这个静态工厂中，Guava 为我们提供了一系列的静态方法，用于帮助我们在函数执行的开始检查参数，函数执行的过程中检查状态等等</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">Preconditions.checkArgument(5 &lt; 3);//IllegalArgumentException</div><div class="line">Preconditions.checkState(5 &lt; 3);//IllegalStateException</div><div class="line">Preconditions.checkNotNull(null);//NullPointerException</div><div class="line">Preconditions.checkElementIndex(4, 4);//IndexOutOfBoundsException</div><div class="line">Preconditions.checkPositionIndex(5, 4);//IndexOutOfBoundsException</div></pre></td></tr></table></figure>
<ul>
<li>checkArgument()</li>
<li>checkState()</li>
<li>checkNotNull()</li>
<li>checkElementIndex()</li>
<li>badElementIndex()</li>
<li>checkPositionIndex()</li>
<li>format()</li>
</ul>
<h2 id="Objects"><a href="#Objects" class="headerlink" title="Objects"></a>Objects</h2><p><img src="http://img.blog.csdn.net/20170410170630300?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMjA1OTc0Nzk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述"></p>
<h2 id="MoreObjects"><a href="#MoreObjects" class="headerlink" title="MoreObjects"></a>MoreObjects</h2><blockquote>
<p>从 Objects 中分裂出来的，主要剥离了内部类 ToStringHelper 以及一系列的包装函数<br><img src="http://img.blog.csdn.net/20170410170650027?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMjA1OTc0Nzk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述"></p>
</blockquote>
<h2 id="ComparisonChain"><a href="#ComparisonChain" class="headerlink" title="ComparisonChain"></a>ComparisonChain</h2><blockquote>
<p>ComparisonChain 可以帮助我们优雅地实现具有短回路功能链式比较</p>
</blockquote>
<p><a href="https://blog.jamespan.me/2015/03/10/guava-basic-utilities-4" target="_blank" rel="external">Precinditions更多参考</a></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/06/05/【Java8】Guava——Charsets/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="dzx">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="http://wx2.sinaimg.cn/mw690/63b4ac8dgy1ffzs5lll1oj20zk0qoq4z.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="dzxblog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/06/05/【Java8】Guava——Charsets/" itemprop="url">【Java8】Guava——Charsets</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-06-05T10:36:08+08:00">
                2017-06-05
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Guava/" itemprop="url" rel="index">
                    <span itemprop="name">Guava</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="Charsets"><a href="#Charsets" class="headerlink" title="Charsets"></a>Charsets</h2><blockquote>
<p>Charsets 是一个常量工厂，给出了 6 个Java 承诺了全平台支持的字符集，类似的静态工厂在 Apache 的类库中也有提供</p>
</blockquote>
<h2 id="Strings"><a href="#Strings" class="headerlink" title="Strings"></a>Strings</h2><h3 id="空字符串处理"><a href="#空字符串处理" class="headerlink" title="空字符串处理"></a>空字符串处理</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">Strings.isNullOrEmpty(&quot;&quot;);//true</div><div class="line">Strings.nullToEmpty(null);//&quot;&quot;</div><div class="line">Strings.nullToEmpty(&quot;abc&quot;);//&quot;abc&quot;</div><div class="line">Strings.emptyToNull(&quot;&quot;);//null</div><div class="line">Strings.emptyToNull(&quot;abc&quot;);//&quot;abc&quot;</div></pre></td></tr></table></figure>
<h3 id="拼接字符串"><a href="#拼接字符串" class="headerlink" title="拼接字符串"></a>拼接字符串</h3><p>前后拼接同一个字符直到达到某个长度，或者重复拼接自身 n 次<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">Strings.padStart(&quot;7&quot;, 3, &apos;0&apos;);//&quot;007&quot;</div><div class="line">Strings.padStart(&quot;2010&quot;, 3, &apos;0&apos;);//&quot;2010&quot;</div><div class="line">Strings.padEnd(&quot;4.&quot;, 5, &apos;0&apos;);//&quot;4.000&quot;</div><div class="line">Strings.padEnd(&quot;2010&quot;, 3, &apos;!&apos;);//&quot;2010&quot;</div><div class="line">Strings.repeat(&quot;hey&quot;, 3);//&quot;heyheyhey&quot;</div></pre></td></tr></table></figure></p>
<h3 id="查找两个字符串的公共前缀、后缀"><a href="#查找两个字符串的公共前缀、后缀" class="headerlink" title="查找两个字符串的公共前缀、后缀"></a>查找两个字符串的公共前缀、后缀</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">Strings.commonPrefix(&quot;aaab&quot;, &quot;aac&quot;);//&quot;aa&quot;</div><div class="line">Strings.commonSuffix(&quot;aaac&quot;, &quot;aac&quot;);//&quot;aac&quot;</div></pre></td></tr></table></figure>
<p><a href="https://blog.jamespan.me/2015/03/01/guava-basic-utilities-3" target="_blank" rel="external">Charsets更多参考</a></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/06/05/【Java8】Guava——Splitter/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="dzx">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="http://wx2.sinaimg.cn/mw690/63b4ac8dgy1ffzs5lll1oj20zk0qoq4z.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="dzxblog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/06/05/【Java8】Guava——Splitter/" itemprop="url">【Java8】Guava——Splitter</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-06-05T10:34:09+08:00">
                2017-06-05
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Guava/" itemprop="url" rel="index">
                    <span itemprop="name">Guava</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="Splitter"><a href="#Splitter" class="headerlink" title="Splitter"></a>Splitter</h2><blockquote>
<p>Guava 提供了 Joiner 类用于将多个对象拼接成字符串，如果我们需要一个反向的操作，就要用到 Splitter 类。Splitter 能够将一个字符串按照指定的分隔符拆分成可迭代遍历的字符串集</p>
</blockquote>
<p><img src="http://img.blog.csdn.net/20170410161021973?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMjA1OTc0Nzk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述"></p>
<h3 id="简单实例"><a href="#简单实例" class="headerlink" title="简单实例"></a>简单实例</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">Splitter.on(&apos; &apos;).split(&quot;四川省 成都市 金牛区&quot;).toString()</div></pre></td></tr></table></figure>
<p>result</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">[四川省, 成都市, 金牛区]</div></pre></td></tr></table></figure>
<h3 id="支持正则表达式"><a href="#支持正则表达式" class="headerlink" title="支持正则表达式"></a>支持正则表达式</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">Splitter.onPattern(&quot;\\s+&quot;).split(&quot;四川省  \t   成都市 金牛区&quot;).toString()</div></pre></td></tr></table></figure>
<p>result</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">[四川省, 成都市, 金牛区]</div></pre></td></tr></table></figure>
<h3 id="根据长度拆分字符串"><a href="#根据长度拆分字符串" class="headerlink" title="根据长度拆分字符串"></a>根据长度拆分字符串</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">Splitter.fixedLength(11).split(&quot;四川省 成都市 金牛区&quot;).toString()</div></pre></td></tr></table></figure>
<p>result</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">[四川省, 成都市, 金牛区]</div></pre></td></tr></table></figure>
<h2 id="Splitter-MapSplitter"><a href="#Splitter-MapSplitter" class="headerlink" title="Splitter.MapSplitter"></a>Splitter.MapSplitter</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">与 Joiner.MapJoiner 相对，Splitter.MapSplitter 用来拆分被拼接了的 Map 对象，返回 Map&lt;String, String&gt;。</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">Map&lt;String,String&gt; map = Splitter.on(&quot; &quot;).withKeyValueSeparator(&quot;=&quot;).split(&quot;userName=Nimo phone=123 address=浙江省杭州市滨江区XXXX&quot;);</div><div class="line">map.toString();</div></pre></td></tr></table></figure>
<p>result</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&#123;userName=Nimo, phone=123, address=浙江省杭州市滨江区XXXX&#125;</div></pre></td></tr></table></figure>
<p><a href="https://blog.jamespan.me/2015/02/09/guava-basic-utilities-2" target="_blank" rel="external">Splitter具体参考</a></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/06/05/【Java8】Guava——Joiner/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="dzx">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="http://wx2.sinaimg.cn/mw690/63b4ac8dgy1ffzs5lll1oj20zk0qoq4z.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="dzxblog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/06/05/【Java8】Guava——Joiner/" itemprop="url">【Java8】Guava——Joiner</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-06-05T10:33:12+08:00">
                2017-06-05
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Guava/" itemprop="url" rel="index">
                    <span itemprop="name">Guava</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="Joiner"><a href="#Joiner" class="headerlink" title="Joiner"></a>Joiner</h2><blockquote>
<p>字符串拼接对象</p>
</blockquote>
<p><img src="http://img.blog.csdn.net/20170410153303919?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMjA1OTc0Nzk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述"></p>
<hr>
<h2 id="on"><a href="#on" class="headerlink" title="on"></a>on</h2><h3 id="基本实例"><a href="#基本实例" class="headerlink" title="基本实例"></a>基本实例</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">Joiner.on(&quot; &quot;).join(&quot;四川省&quot;,&quot;成都市&quot;,&quot;金牛区&quot;).toString()</div></pre></td></tr></table></figure>
<ul>
<li>on 以空格为分隔符 </li>
<li>join内是拼接的对象:迭代器对象、数组、可变参数等</li>
</ul>
<p>result</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">四川省 成都市 金牛区</div></pre></td></tr></table></figure>
<h3 id="特殊处理"><a href="#特殊处理" class="headerlink" title="特殊处理"></a>特殊处理</h3><h4 id="动态拼接"><a href="#动态拼接" class="headerlink" title="动态拼接"></a>动态拼接</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">StringBuffer result = new StringBuffer(&quot;result: &quot;);</div><div class="line">		Joiner.on(&quot; &quot;).appendTo(result,7,8);</div></pre></td></tr></table></figure>
<p>result</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">result: 7 8</div></pre></td></tr></table></figure>
<h4 id="忽略空值"><a href="#忽略空值" class="headerlink" title="忽略空值"></a>忽略空值</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">//直接忽略Null</div><div class="line">Joiner.on(&quot; &quot;).skipNulls().join(&quot;四川省&quot;,&quot;成都市&quot;,&quot;金牛区&quot;,null).toString()</div><div class="line">//找出Null，并用其他值代替</div><div class="line">Joiner.on(&quot; &quot;).useForNull(&quot;未填写&quot;).join(&quot;四川省&quot;,&quot;成都市&quot;,&quot;金牛区&quot;,null).toString()</div></pre></td></tr></table></figure>
<hr>
<p>result</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">四川省 成都市 金牛区 </div><div class="line">四川省 成都市 金牛区 未填写</div></pre></td></tr></table></figure>
<hr>
<h2 id="Joiner-MapJoiner"><a href="#Joiner-MapJoiner" class="headerlink" title="Joiner.MapJoiner"></a>Joiner.MapJoiner</h2><blockquote>
<p>MapJoiner 是 Joiner 的内部静态类，用于帮助将 Map 对象拼接成字符串。</p>
</blockquote>
<h3 id="基本实例-1"><a href="#基本实例-1" class="headerlink" title="基本实例"></a>基本实例</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">Joiner.on(&quot; &quot;).withKeyValueSeparator(&quot;=&quot;).join(ImmutableMap.of(&quot;收件人&quot;,&quot;Nimo&quot;,&quot;联系方式&quot;,&quot;123&quot;,&quot;收件地址&quot;,&quot;浙江省杭州市滨江区XXXX&quot;));</div></pre></td></tr></table></figure>
<p>result</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">收件人=Nimo 联系方式=123 收件地址=浙江省杭州市滨江区XXXX</div></pre></td></tr></table></figure>
<p><a href="https://blog.jamespan.me/2015/02/08/guava-basic-utilities-1" target="_blank" rel="external">Joiner具体参考</a></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/06/05/深入理解JVM学习笔记（三）-——-GC收集器和内存分配/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="dzx">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="http://wx2.sinaimg.cn/mw690/63b4ac8dgy1ffzs5lll1oj20zk0qoq4z.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="dzxblog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/06/05/深入理解JVM学习笔记（三）-——-GC收集器和内存分配/" itemprop="url">深入理解JVM学习笔记（三） —— GC收集器和内存分配</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-06-05T10:32:08+08:00">
                2017-06-05
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/JVM/" itemprop="url" rel="index">
                    <span itemprop="name">JVM</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="判断对象是否存活"><a href="#判断对象是否存活" class="headerlink" title="判断对象是否存活"></a>判断对象是否存活</h2><h3 id="引用计数算法"><a href="#引用计数算法" class="headerlink" title="引用计数算法"></a>引用计数算法</h3><blockquote>
<p>很多判断对象是否存活的方式就是引用计数算法：给对象添加一个引用计数器，每当一个地方引用它，计数器+1；引用失效，计数器-1。</p>
</blockquote>
<hr>
<blockquote>
<p><strong>任何时刻计数器为0的对象是不可能再被使用的。</strong></p>
</blockquote>
<hr>
<blockquote>
<p><strong>Java虚拟机没有使用主流的引用计数法管理内存。主要原因是难以解决对象之间相互循环引用的问题</strong></p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">classA.instance = classB</div><div class="line">classB.instance = classA</div></pre></td></tr></table></figure>
<p>classA和classB已经不可能再被访问，但是classA和classB互相引用对方，导致计数器永远不可能是0，导致GC无法回收两个对象</p>
<hr>
<h2 id="可达性分析算法"><a href="#可达性分析算法" class="headerlink" title="可达性分析算法"></a>可达性分析算法</h2><blockquote>
<p>通过一系列称为”GC Roots”对象作为起始点，从这些节点向下搜索，搜索过的路径称为引用链。</p>
</blockquote>
<hr>
<blockquote>
<p><strong>当一个对象的GCRoots没有任何引用链相连时，则证明该对象不可用。</strong></p>
</blockquote>
<p>在java中可作为GCRoots对象的是</p>
<ol>
<li>虚拟机栈（栈帧本地变量表）引用的对象</li>
<li>方法区中类属性引用对象</li>
<li>方法区中常量引用对象</li>
<li>本地方法栈（JNI）中引用对象</li>
</ol>
<hr>
<h2 id="引用"><a href="#引用" class="headerlink" title="引用"></a>引用</h2><p>Java引用分类(又上到下引用关系依次减弱)</p>
<ul>
<li>强引用<ul>
<li>必须存在的对象</li>
<li>类似ObjectA objA = new ObjectA()</li>
</ul>
</li>
<li>软引用<ul>
<li>有用但非必须的对象</li>
<li>在发生内存溢出后，可进行二次回收</li>
</ul>
</li>
<li>弱引用<ul>
<li>非必须对象</li>
<li>无论当前内存是否足够，都会回收掉只被弱关联对象</li>
</ul>
</li>
<li>虚引用<ul>
<li>是否存在不会对生存时间对其影响</li>
</ul>
</li>
</ul>
<hr>
<h2 id="生存或者死亡"><a href="#生存或者死亡" class="headerlink" title="生存或者死亡"></a>生存或者死亡</h2><blockquote>
<p>判断一个对象死亡，<strong>至少经历两次标志过程</strong>：如果对象进行可达性分析，<strong>GCRoot没有相连的引用链，那么被第一次标记进行筛选</strong>；<strong>筛选的条件是是否有必要进行finalize()方法</strong>；对象没有覆盖finalize()方法或者已经被虚拟机调用过finalize()方法，则该对象没必要销毁；<strong>如果这个对象有必要执行finalize()方法，会将它放置在F-Queue队列中</strong>，并在稍后由一个虚拟机自动执行、低优先级的Finalizer线程去执行；<strong>GC稍后会对F-Queue中的对象进行二次标记</strong></p>
</blockquote>
<hr>
<blockquote>
<p>如果对象需要拯救自己不被回收。只要重新与引用链的任何一个对象重新关联为止（例如.this)</p>
</blockquote>
<hr>
<blockquote>
<p>注意：自救的机会只能使用一次；一个对象的finalize方法最多只被系统调用一次</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">private static FinallyProperty escapeGC = null;</div><div class="line"></div><div class="line">@Override</div><div class="line">void finalize() throws Throwable&#123;</div><div class="line">   super.finalize();</div><div class="line">   FinallyProperty.escapeGC = this;   </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<hr>
<h2 id="回收方法区"><a href="#回收方法区" class="headerlink" title="回收方法区"></a>回收方法区</h2><blockquote>
<p>永久代的垃圾回收主要是2个部分:废弃变量和无用的类</p>
</blockquote>
<ul>
<li>废弃变量：与Java堆中的回收类似；例如.没有任何一个地方引用常量池的”abc”字面量，这时发生了内存回收；这个”abc”会被清理出常量池</li>
<li>无用的类需要满足的3个条件<ul>
<li>java堆中不存在该类的任何实例</li>
<li>加载该类的ClassLoader已被回收</li>
<li>无法在任何地方通过反射访问该类的方法</li>
</ul>
</li>
</ul>
<hr>
<h2 id="垃圾收集算法"><a href="#垃圾收集算法" class="headerlink" title="垃圾收集算法"></a>垃圾收集算法</h2><h3 id="标记-清除"><a href="#标记-清除" class="headerlink" title="标记-清除"></a>标记-清除</h3><blockquote>
<p>在回收之前，首先标志出需要回收的对象，在标志完成后统一回收所有标志对象<br>后面的算法都是基于”标记-清除”算法的改进</p>
</blockquote>
<p>该算法的主要缺点</p>
<ol>
<li>效率低下：产生过多内存碎片</li>
<li>空间占用过多</li>
</ol>
<h3 id="复制算法"><a href="#复制算法" class="headerlink" title="复制算法"></a>复制算法</h3><blockquote>
<p>解决”标记-清除”算法效率问题</p>
</blockquote>
<hr>
<blockquote>
<p>将内存划分为容量相等的2个部分，每次只使用其中一块。当这块内存使用完毕，将还存活的对象复制在另一块上面。然后把已使用的空间一次性清理掉。</p>
</blockquote>
<hr>
<blockquote>
<p>每次对整个半区进行回收，而不讨论内存碎片等复杂情况，只需移动堆顶指针、按顺序分配内存即可。</p>
</blockquote>
<h3 id="标志-整理算法"><a href="#标志-整理算法" class="headerlink" title="标志-整理算法"></a>标志-整理算法</h3><blockquote>
<p>复制收集算法在对象存活率过高时进行复制操作，影响效率。</p>
</blockquote>
<hr>
<blockquote>
<p>根据老年代特点，提出了标志-整理算法；标志过程和标志-清除的过程一样。整理：让所有存活对象向一端移动，然后直接清理掉边界以外的内存</p>
</blockquote>
<h3 id="分代收集算法"><a href="#分代收集算法" class="headerlink" title="分代收集算法"></a>分代收集算法</h3><blockquote>
<p>一般把Java划分成新生代和老年代；根据各个年代的特点采用合适的收集算法<br>通常新生代采取：复制算法<br>老年代采取：标志-整理或者标志-清除算法</p>
</blockquote>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/06/05/深入理解JVM学习笔记（二）-——-对象/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="dzx">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="http://wx2.sinaimg.cn/mw690/63b4ac8dgy1ffzs5lll1oj20zk0qoq4z.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="dzxblog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/06/05/深入理解JVM学习笔记（二）-——-对象/" itemprop="url">深入理解JVM学习笔记（二） —— 对象</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-06-05T10:29:38+08:00">
                2017-06-05
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/JVM/" itemprop="url" rel="index">
                    <span itemprop="name">JVM</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>【问题一】程序通过new一个普通对象的时候，虚拟机进行了哪些操作？<br>  解答： ①首先检查这个指令的参数是否能在常量池中定位到这个类引用<br>  ②并且检查这个符号引用代表的类是否被加载、解析、初始化过③若没有加载，必须执行相应类的类加载过程④<strong>虚拟机为新生对象分配内存</strong>(对象所需内存大小，在类加载时间可以完全确定)</p>
<h3 id="④-分配内存"><a href="#④-分配内存" class="headerlink" title="④ 分配内存"></a>④ 分配内存</h3><blockquote>
<p>为对象分配大小相当于把一块确定大小的内存从Java堆中划分出来。<strong>假设Java内存是规整的</strong>，所有用过的内存放在一边，所有空闲的内存放在一边，中间放着一个指针作为分界点的指示器。对象大小就是指针向空闲内存移动的距离，这种分配方式叫做<strong>指针碰撞</strong>。假设内存是不规整的，已使用的空间和空闲空间相互交错，虚拟机须维护一个列表，存放可用内存空间，在分配的时候根据列表找到一块足够大的空间给对象，并更新列表上的记录，这种分配被称为“空闲列表”<br>总结：选择哪种分配方式是通过Java内存是否规整决定，而Java是否规整又由采集的垃圾收集器（GC）是否带有压缩整理功能决定</p>
<p><strong>Compact收集器采用指针碰撞方式，而Mark-Slweep采用空闲列表</strong></p>
</blockquote>
<hr>
<p>分配对象可能是线程不安全的，虚拟机采用2种方式保证更新操作的原子性</p>
<ul>
<li>CAS+失败重试方式</li>
<li>每个线程预分配一小块内存(本地线程分配缓冲区TLAB)。哪个线程需要分配内存，就在哪个线程的TLAB上分配，只有TLAB用完并分配新的TLAB，才同步锁定</li>
</ul>
<p>使用TLAB<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">-XX:+/-UseTLAB</div></pre></td></tr></table></figure></p>
<h3 id="⑤-初始化"><a href="#⑤-初始化" class="headerlink" title="⑤ 初始化"></a>⑤ 初始化</h3><blockquote>
<p>虚拟机将分配到的内存空间初始化为0.如果使用TLAB，可将这一操作提前到分配TLAB时进行。<br>保证Java实例对象字段，不需要初始化，就可以直接使用。</p>
</blockquote>
<p>###⑥ 必要设置</p>
<blockquote>
<p>虚拟机对对象进行必要的设置。例如: 对象属于哪个类实例、如何找到类的元数据信息、对象哈希码、对象GC分代年龄等设置</p>
</blockquote>
<p>以上完成后。对于虚拟机来说，一个对象已经产生了，但是从Java的角度看，一个对象的创建刚刚开始——init()还未执行，所有字段还是0.</p>
<blockquote>
<p>注意：<strong>当一个对象初始化之后，一个真正可用的对象才算生成。</strong></p>
</blockquote>
<hr>
<h2 id="对象的内存布局"><a href="#对象的内存布局" class="headerlink" title="对象的内存布局"></a>对象的内存布局</h2><p>对象在内存中的布局包含：<strong>对象头、实例数据、对齐填充</strong><br>HotSpot虚拟机对象头包括：<strong>存储自身对象运行数据和类型指针</strong></p>
<ul>
<li>存储自身对象<ul>
<li>哈希码、GC分代年龄、锁标志、线程持有锁、偏向线程ID、偏向时间戳等</li>
</ul>
</li>
<li>类型指针<ul>
<li>通过这个指针确定这个对象属于哪个类实例。但是不是所有虚拟机都必须在对象数据类型保留类型指针，所以查找对象的元数据信息不一定要经过类本身。如果是一个数组，还需要记录长度数据。</li>
</ul>
</li>
</ul>
<hr>
<p>实例数据字段分配策略顺序：longs/doubles -&gt; int -&gt; short/chars -&gt; byte/boolean -&gt; oops </p>
<ol>
<li>相同宽度的字段总是分配在一起</li>
<li>父类定义的变量总是在子类之前</li>
<li>对其填充仅仅起占位符的作用</li>
</ol>
<hr>
<h2 id="对象访问定位"><a href="#对象访问定位" class="headerlink" title="对象访问定位"></a>对象访问定位</h2><blockquote>
<p>通过栈上的reference数据操作堆上数据<br>reference只提供了一个指向对象的引用，访问定位主流方式有使用句柄和直接指针两种方式实现</p>
</blockquote>
<p>访问方式</p>
<ul>
<li><p>使用句柄</p>
<ul>
<li>Java堆划分一块内存作为句柄池，reference存储对象句柄地址。而句柄中包含对象实例数据和类型数据各自的地址信息</li>
</ul>
</li>
<li><p>使用直接指针</p>
<ul>
<li>reference存储的是对象地址</li>
</ul>
</li>
</ul>
<p>句柄访问方式<br><img src="http://img.blog.csdn.net/20170414155500400?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMjA1OTc0Nzk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="句柄访问方式"></p>
<p>直接指针访问方式<br><img src="http://img.blog.csdn.net/20170414155520041?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMjA1OTc0Nzk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="直接指针访问方式"></p>
<p>句柄访问优点：在对象移动时，改变的只是句柄中的实例数据本身，而reference本身并不改变</p>
<p>直接指针的优点：访问速度快，节省了指针定位的开销</p>
<ul>
<li></li>
</ul>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/06/05/深入理解JVM学习笔记（一）-——-JVM数据区域/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="dzx">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="http://wx2.sinaimg.cn/mw690/63b4ac8dgy1ffzs5lll1oj20zk0qoq4z.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="dzxblog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/06/05/深入理解JVM学习笔记（一）-——-JVM数据区域/" itemprop="url">深入理解JVM学习笔记（一） —— JVM数据区域</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-06-05T10:28:56+08:00">
                2017-06-05
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/JVM/" itemprop="url" rel="index">
                    <span itemprop="name">JVM</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="JVM结构图"><a href="#JVM结构图" class="headerlink" title="JVM结构图"></a>JVM结构图</h3><p><img src="http://img.blog.csdn.net/20170413114755159?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMjA1OTc0Nzk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="JVM结构"></p>
<h2 id="程序计数器"><a href="#程序计数器" class="headerlink" title="程序计数器"></a>程序计数器</h2><blockquote>
<p>是一块较小的内存空间。当前线程所执行的字节码的行号指示器。</p>
</blockquote>
<p>字节码解释器工作原理</p>
<blockquote>
<p>通过改变计数器的值来选取下一条需要执行的字节码指令。</p>
</blockquote>
<p>分支、循环、跳转、异常处理、线程恢复等操作都需要依赖计数器</p>
<p>JAVA多线程实现方式</p>
<blockquote>
<p>线程之间轮流切换并分配处理器执行时间实现的</p>
</blockquote>
<p>运行Java方法时，执行虚拟机字节码指令地址。<br>运行Native方法时，计数器则为空(undefined)。<strong>是唯一一个在java虚拟机中没有规定outOfMemoryError的错误</strong></p>
<hr>
<h2 id="虚拟机栈"><a href="#虚拟机栈" class="headerlink" title="虚拟机栈"></a>虚拟机栈</h2><blockquote>
<p>线程私有。虚拟机栈的生命周期和线程相同。用来描述java方法执行的内存模型。</p>
</blockquote>
<h3 id="栈帧"><a href="#栈帧" class="headerlink" title="栈帧"></a>栈帧</h3><blockquote>
<p>每个方法创建时产生</p>
<p>作用：存储局部变量表、操作数栈、动态链接、方法出口等。</p>
<p><strong>每个方法调用到执行完成的过程，对应一个虚拟机栈帧入栈到出栈的过程</strong></p>
</blockquote>
<p>堆(Heap)栈(Stack)只是java虚拟机内存粗略的划分</p>
<p>局部变量存储了编译时期各种基本类型、对象引用。不等于对象本身，可能是指向对象起始地址的引用指针，也可能是代表一个对象的句柄或其他与此对象相关的位置和returnAddress(字节码地址)</p>
<p>特例：64位长度的long和double类型数据占用2个局部变量空间。其余只占用1个。</p>
<h2 id="虚拟机栈异常"><a href="#虚拟机栈异常" class="headerlink" title="虚拟机栈异常"></a>虚拟机栈异常</h2><ol>
<li><strong>线程请求的栈深度大于虚拟机所允许的栈深度，抛出StackOverException</strong></li>
<li><strong>虚拟机动态扩展到无法申请到更多可用内存，抛出OutOfMemoryException</strong></li>
</ol>
<hr>
<h2 id="本地方法栈"><a href="#本地方法栈" class="headerlink" title="本地方法栈"></a>本地方法栈</h2><blockquote>
<p>虚拟机栈有的特性，本地方法栈都有。唯一的区别：<strong>虚拟机栈执行Java方法，本地方法栈执行Native方法</strong></p>
</blockquote>
<hr>
<h2 id="堆（Heap）"><a href="#堆（Heap）" class="headerlink" title="堆（Heap）"></a>堆（Heap）</h2><blockquote>
<p>虚拟机管理内存中最大的一块。<br>被所有线程共享的内存区域。<br>唯一作用就是存放对象实例。</p>
</blockquote>
<p>不过随着JIT编译器发展与逃逸分析技术成熟，栈上分配、标量替换也可以存放对象实例。</p>
<p>Java堆是垃圾收集管理的主要区域，也叫做GC堆。</p>
<p>从内存回收的角度看。由于垃圾回收分析采用分代收集算法。可细分为：新生代和老年代。也可分为：<strong>Eden空间、From Survivor空间、To Survivor空间。</strong></p>
<p>从内存分配的角度看。线程共享的Java堆可划分<strong>多个线程私有的线程缓冲区。</strong></p>
<p><strong>划分的目的是为了更好的回收内存、更快的分配内存。</strong></p>
<p>-Xms 和 Xmx 控制Java堆大小。</p>
<p><strong>堆异常</strong><br>如果堆中内存没有完成实例分配，抛出OutOfMemoryException</p>
<hr>
<h2 id="方法区"><a href="#方法区" class="headerlink" title="方法区"></a>方法区</h2><blockquote>
<p>各个线程的共享区域。存储<strong>已加载的类信息、常量、静态变量以及编译器编译后的代码数据。</strong><br>为了与Java堆区分开，方法区的另一个别名non-Heap(非堆)</p>
</blockquote>
<p><strong>非堆可以不实现垃圾收集。</strong></p>
<h2 id="运行时常量池"><a href="#运行时常量池" class="headerlink" title="运行时常量池"></a>运行时常量池</h2><blockquote>
<p>属于方法区一部分。用于存放编译时期生成的各种字面量和符号引用。<br>运行时常量池相当于Class常量池又一重要的特性：动态性。<br>运行期可将新的常量放入常量池。常用的是String的intern() </p>
</blockquote>
<h2 id="直接内存"><a href="#直接内存" class="headerlink" title="直接内存"></a>直接内存</h2><blockquote>
<p>不属于虚拟机运行时数据区。也不属于虚拟机定义的内存区域。但是被频繁使用。可能导致OutOfMemoryException出现。</p>
</blockquote>
<p>NIO就使用了这个方式。通过使用Native函数直接分配给堆外内存。然后通过一个存储在Java堆中directByteBuffer对象作为这块内存的引用。</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/06/05/Servlet3新特性/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="dzx">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="http://wx2.sinaimg.cn/mw690/63b4ac8dgy1ffzs5lll1oj20zk0qoq4z.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="dzxblog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/06/05/Servlet3新特性/" itemprop="url">【Servlet3】新特性</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-06-05T10:26:32+08:00">
                2017-06-05
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Servlet/" itemprop="url" rel="index">
                    <span itemprop="name">Servlet</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="Servlet3新增功能"><a href="#Servlet3新增功能" class="headerlink" title="Servlet3新增功能"></a>Servlet3新增功能</h2><ul>
<li>异步处理支持</li>
<li>新增的注解支持</li>
<li>可插性支持</li>
</ul>
<h2 id="注解"><a href="#注解" class="headerlink" title="注解"></a>注解</h2><h3 id="Filter"><a href="#Filter" class="headerlink" title="Filter"></a>Filter</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">@WebFilter(filterName = &quot;myFilter&quot;, urlPatterns=&quot;/*&quot;,</div><div class="line">        dispatcherTypes = &#123;DispatcherType.REQUEST, DispatcherType.FORWARD&#125;)</div><div class="line">public class MyFilter implements Filter &#123;</div><div class="line">    @Override</div><div class="line">    public void init(final FilterConfig filterConfig) throws ServletException &#123;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    @Override</div><div class="line">    public void doFilter(final ServletRequest request, final ServletResponse response, final FilterChain chain) throws IOException, ServletException &#123;</div><div class="line">        chain.doFilter(request, response);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    @Override</div><div class="line">    public void destroy() &#123;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="Listener"><a href="#Listener" class="headerlink" title="Listener"></a>Listener</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">@WebListener</div><div class="line">public class MyServletContextListener implements ServletContextListener &#123;</div><div class="line"></div><div class="line">    @Override</div><div class="line">    public void contextInitialized(final ServletContextEvent ctx) &#123;</div><div class="line">        System.out.println(&quot;init servlet context&quot;);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    @Override</div><div class="line">    public void contextDestroyed(final ServletContextEvent ctx) &#123;</div><div class="line">        System.out.println(&quot;destroy servlet container&quot;);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="Servlet"><a href="#Servlet" class="headerlink" title="Servlet"></a>Servlet</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line">@WebServlet(name = &quot;myServlet&quot;,</div><div class="line">		    urlPatterns = &#123;&quot;/servlet1&quot;, &quot;/servlet1/*&quot;&#125;, </div><div class="line">		    loadOnStartup = 1,</div><div class="line">	        initParams = &#123;</div><div class="line">                @WebInitParam(name = &quot;msg&quot;, value=&quot;test&quot;)</div><div class="line">	        &#125;)</div><div class="line">public class MyServlet extends HttpServlet &#123;</div><div class="line">    private String msg;</div><div class="line"></div><div class="line">    public MyServlet() &#123;</div><div class="line">        System.out.println(&quot;load on startup&quot;);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    @Override</div><div class="line">    public void init() throws ServletException &#123;</div><div class="line">        super.init();</div><div class="line">        msg = this.getInitParameter(&quot;msg&quot;);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    @Override</div><div class="line">    protected void doGet(final HttpServletRequest req, final HttpServletResponse resp) throws ServletException, IOException &#123;</div><div class="line">        System.out.println(msg);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="SpringMVC"><a href="#SpringMVC" class="headerlink" title="SpringMVC"></a>SpringMVC</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">@Configuration</div><div class="line">@ComponentScan(</div><div class="line">        value = &#123;&quot;com.test.**.service&quot;, &quot;com.test.**.dao&quot;&#125;,</div><div class="line">        excludeFilters = &#123;</div><div class="line">                @ComponentScan.Filter(type = FilterType.ANNOTATION, value = Controller.class)</div><div class="line">        &#125;)</div></pre></td></tr></table></figure>
<hr>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line">@Configuration</div><div class="line">@EnableWebMvc</div><div class="line">@ComponentScan(</div><div class="line">        value = &quot;com.test.**.web.controller&quot;,</div><div class="line">        includeFilters = &#123;</div><div class="line">                @ComponentScan.Filter(type = FilterType.ANNOTATION, value = Controller.class)</div><div class="line">        &#125;)</div><div class="line">public class SpringMvcConfiguration &#123;</div><div class="line"></div><div class="line">    @Bean</div><div class="line">    public ViewResolver createInternalResourceViewResolver() &#123;</div><div class="line">        InternalResourceViewResolver viewResolver = new InternalResourceViewResolver();</div><div class="line">        viewResolver.setViewClass(JstlView.class);</div><div class="line">        viewResolver.setContentType(&quot;text/html&quot;);</div><div class="line">        viewResolver.setPrefix(&quot;/WEB-INF/jsp/&quot;);</div><div class="line">        viewResolver.setSuffix(&quot;.jsp&quot;);</div><div class="line"></div><div class="line">        return viewResolver;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    @Bean</div><div class="line">    public DefaultServletHttpRequestHandler createDefaultServletHttpRequestHandler() &#123;</div><div class="line">        return new DefaultServletHttpRequestHandler();</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<hr>
<h3 id="web-xml-代码配置"><a href="#web-xml-代码配置" class="headerlink" title="web.xml 代码配置"></a>web.xml 代码配置</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line">public class NoXmlWebAppInitializer implements WebApplicationInitializer &#123;</div><div class="line"></div><div class="line">    @Override</div><div class="line">    public void onStartup(final ServletContext sc) throws ServletException &#123;</div><div class="line"></div><div class="line">        //1、根上下文</div><div class="line">        AnnotationConfigWebApplicationContext  rootContext = new AnnotationConfigWebApplicationContext();</div><div class="line">        rootContext.register(RootConfiguration.class);</div><div class="line">        sc.addListener(new ContextLoaderListener(rootContext));</div><div class="line"></div><div class="line">        //2、springmvc上下文</div><div class="line">        AnnotationConfigWebApplicationContext springMvcContext = new AnnotationConfigWebApplicationContext();</div><div class="line">        springMvcContext.register(SpringMvcConfiguration.class);</div><div class="line"></div><div class="line">        //3、DispatcherServlet</div><div class="line">        DispatcherServlet dispatcherServlet = new DispatcherServlet(springMvcContext);</div><div class="line"></div><div class="line">        ServletRegistration.Dynamic dynamic = sc.addServlet(&quot;dispatcherServlet&quot;, dispatcherServlet);</div><div class="line">        dynamic.setLoadOnStartup(1);</div><div class="line">        dynamic.addMapping(&quot;/&quot;);</div><div class="line"></div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="异步处理"><a href="#异步处理" class="headerlink" title="异步处理"></a>异步处理</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">@WebServlet(name = &quot;asyncServlet&quot;, urlPatterns = &quot;/async&quot;, asyncSupported = true)</div></pre></td></tr></table></figure>
<hr>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div></pre></td><td class="code"><pre><div class="line">private final ExecutorService executorService = Executors.newScheduledThreadPool(2);</div><div class="line"></div><div class="line">    @Override</div><div class="line">    protected void doGet(final HttpServletRequest req, final HttpServletResponse resp) throws ServletException, IOException &#123;</div><div class="line">        resp.setHeader(&quot;Connection&quot;, &quot;Keep-Alive&quot;);</div><div class="line">        resp.setContentType(&quot;text/html;charset=utf-8&quot;);</div><div class="line"></div><div class="line">        PrintWriter out = resp.getWriter();</div><div class="line">        out.write(&quot;hello async&quot;);</div><div class="line">        out.write(&quot;&lt;br/&gt;&quot;);</div><div class="line">        out.flush();</div><div class="line">        //1、开启异步</div><div class="line">        final AsyncContext asyncContext = req.startAsync();</div><div class="line">        //2、设置超时时间，如果不设置如jetty是30000L</div><div class="line">        asyncContext.setTimeout(10L * 1000); //设置为0表示永不超时</div><div class="line"></div><div class="line">        //把任务提交给自己的任务队列</div><div class="line">        executorService.submit(new Runnable() &#123;</div><div class="line">            @Override</div><div class="line">            public void run() &#123;</div><div class="line">                try &#123;</div><div class="line">                    Thread.sleep(3L * 1000);</div><div class="line">                    PrintWriter out = asyncContext.getResponse().getWriter();</div><div class="line">                    out.write(&quot;over&quot;);</div><div class="line">                    asyncContext.complete();</div><div class="line">                &#125; catch (Exception e) &#123;</div><div class="line">                    e.printStackTrace();</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;);</div><div class="line"></div><div class="line">        //4、当前线程可立即返回</div><div class="line">    &#125;</div></pre></td></tr></table></figure>
<h2 id="interceptor"><a href="#interceptor" class="headerlink" title="interceptor"></a>interceptor</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div></pre></td><td class="code"><pre><div class="line">public class MyCallableInterceptor extends CallableProcessingInterceptorAdapter &#123;</div><div class="line"></div><div class="line">    @Override</div><div class="line">    public &lt;T&gt; void beforeConcurrentHandling(final NativeWebRequest request, final Callable&lt;T&gt; task) throws Exception &#123;</div><div class="line">        System.out.println(&quot;=====在startAsyc开启异步 和 提交异步任务到Executor 之前执行&quot;);</div><div class="line">        //此时可以保存一些数据到异步上下文，如spring security的SecurityContextHolder或Shiro的SecurityUtils(Subject)</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    @Override</div><div class="line">    public &lt;T&gt; void preProcess(final NativeWebRequest request, final Callable&lt;T&gt; task) throws Exception &#123;</div><div class="line">        //此时可以把在beforeConcurrentHandling保存的那些数据绑定到这个线程上（将在一个新线程执行）</div><div class="line">        System.out.println(&quot;在Callable.call运行之前执行&quot;);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    @Override</div><div class="line">    public &lt;T&gt; void postProcess(final NativeWebRequest request, final Callable&lt;T&gt; task, final Object concurrentResult) throws Exception &#123;</div><div class="line">        System.out.println(&quot;在Callable.call运行之后执行&quot;);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    @Override</div><div class="line">    public &lt;T&gt; Object handleTimeout(final NativeWebRequest request, final Callable&lt;T&gt; task) throws Exception &#123;</div><div class="line">        //超时时调用，返回值将是超时后的结果</div><div class="line">        System.out.println(&quot;异步任务超时了&quot;);</div><div class="line">        return &quot;error&quot;;//返回出错时的结果，将替换掉正常时的结果</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    @Override</div><div class="line">    public &lt;T&gt; void afterCompletion(final NativeWebRequest request, final Callable&lt;T&gt; task) throws Exception &#123;</div><div class="line">        //异步任务正常结束时调用</div><div class="line">        System.out.println(&quot;异步任务完成了&quot;);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<hr>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line">@Controller</div><div class="line">public class MyCallableController &#123;</div><div class="line"></div><div class="line">    @RequestMapping(&quot;/myCallable1&quot;)</div><div class="line">    @ResponseBody</div><div class="line">    public Callable&lt;String&gt; callable1() &#123;</div><div class="line">        return new Callable&lt;String&gt;() &#123;</div><div class="line">            @Override</div><div class="line">            public String call() throws Exception &#123;</div><div class="line">                System.out.println(&quot;====执行Callable call&quot;);</div><div class="line">                return &quot;success&quot;;</div><div class="line">            &#125;</div><div class="line">        &#125;;</div><div class="line">    &#125;</div><div class="line">    @RequestMapping(&quot;/myCallable2&quot;)</div><div class="line">    @ResponseBody</div><div class="line">    public Callable&lt;String&gt; callable2() &#123;</div><div class="line">        return new Callable&lt;String&gt;() &#123;</div><div class="line">            @Override</div><div class="line">            public String call() throws Exception &#123;</div><div class="line">                Thread.sleep(31L * 1000);</div><div class="line">                System.out.println(&quot;====执行Callable call&quot;);</div><div class="line">                return &quot;success&quot;;</div><div class="line">            &#125;</div><div class="line">        &#125;;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<hr>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div></pre></td><td class="code"><pre><div class="line">/**</div><div class="line"> * spring实现方式：</div><div class="line"> *   1、把任务提交给Executor 异步执行；</div><div class="line"> *   2、执行完成后RequestMappingHandlerAdapter使用内部的  ServletInvocableHandlerMethod包装返回值，即按照非异步方式再执行</div><div class="line"> */</div><div class="line">@Controller</div><div class="line">public class CallableController &#123;</div><div class="line"></div><div class="line">    @RequestMapping(&quot;/callable1&quot;)</div><div class="line">    public Callable&lt;String&gt; callable1(final Model model) &#123;</div><div class="line">        return new Callable&lt;String&gt;() &#123;</div><div class="line">            @Override</div><div class="line">            public String call() throws Exception &#123;</div><div class="line">                Thread.sleep(2L * 1000); //暂停两秒</div><div class="line">                String viewName = &quot;msg&quot;;</div><div class="line">                model.addAttribute(&quot;msg&quot;, &quot;hello callable&quot;);</div><div class="line">                return viewName; //然后返回到指定视图页面</div><div class="line">            &#125;</div><div class="line">        &#125;;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    @RequestMapping(&quot;/callable2&quot;)</div><div class="line">    public Callable&lt;ModelAndView&gt; callable2() &#123;</div><div class="line">        return new Callable&lt;ModelAndView&gt;() &#123;</div><div class="line">            @Override</div><div class="line">            public ModelAndView call() throws Exception &#123;</div><div class="line">                Thread.sleep(2L * 1000); //暂停两秒</div><div class="line">                ModelAndView mv = new ModelAndView(&quot;msg&quot;);</div><div class="line">                mv.addObject(&quot;msg&quot;, &quot;hello callable&quot;);</div><div class="line">                return mv;</div><div class="line">            &#125;</div><div class="line">        &#125;;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    @RequestMapping(&quot;/callable3&quot;)</div><div class="line">    @ResponseBody</div><div class="line">    public Callable&lt;Object&gt; callable3() &#123;</div><div class="line">        return new Callable&lt;Object&gt;() &#123;</div><div class="line">            @Override</div><div class="line">            public Object call() throws Exception &#123;</div><div class="line">                Thread.sleep(2L * 1000); //暂停两秒</div><div class="line">                return new User(1, &quot;zhang&quot;);</div><div class="line">            &#125;</div><div class="line">        &#125;;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><a href="http://jinnianshilongnian.iteye.com/blog/1912455" target="_blank" rel="external">参考博客</a><br><a href="https://www.ibm.com/developerworks/cn/java/j-lo-servlet30/" target="_blank" rel="external">Servlet3新特性详解</a></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/06/05/Python学习笔记（二）——-正则表达式/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="dzx">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="http://wx2.sinaimg.cn/mw690/63b4ac8dgy1ffzs5lll1oj20zk0qoq4z.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="dzxblog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/06/05/Python学习笔记（二）——-正则表达式/" itemprop="url">Python学习笔记（二）—— 正则表达式</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-06-05T10:23:53+08:00">
                2017-06-05
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Python/" itemprop="url" rel="index">
                    <span itemprop="name">Python</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="正则表达式的大致匹配过程"><a href="#正则表达式的大致匹配过程" class="headerlink" title="正则表达式的大致匹配过程"></a>正则表达式的大致匹配过程</h3><p>1.依次拿出表达式和文本中的字符比较，<br>2.如果每一个字符都能匹配，则匹配成功；一旦有匹配不成功的字符则匹配失败。<br>3.如果表达式中有量词或边界，这个过程会稍微有一些不同。</p>
<p><img src="http://img.blog.csdn.net/20170502103501561?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMjA1OTc0Nzk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述"></p>
<hr>
<h3 id="数量词的贪婪模式与非贪婪模式"><a href="#数量词的贪婪模式与非贪婪模式" class="headerlink" title="数量词的贪婪模式与非贪婪模式"></a>数量词的贪婪模式与非贪婪模式</h3><blockquote>
<p>正则表达式通常用于在文本中查找匹配的字符串。Python里数量词默认是贪婪的（在少数语言里也可能是默认非贪婪），总是尝试匹配尽可能多的字符；非贪婪的则相反，总是尝试匹配尽可能少的字符。例如：正则表达式”ab<em>”如果用于查找”abbbc”，将找到”abbb”。而如果使用非贪婪的数量词”ab</em>?”，将找到”a”。</p>
</blockquote>
<p>注：一般使用非贪婪模式来提取。</p>
<h3 id="反斜杠问题"><a href="#反斜杠问题" class="headerlink" title="反斜杠问题"></a>反斜杠问题</h3><blockquote>
<p>与大多数编程语言相同，正则表达式里使用”\”作为转义字符，这就可能造成反斜杠困扰。假如你需要匹配文本中的字符”\”，那么使用编程语言表示的正则表达式里将需要4个反斜杠”\\”：前两个和后两个分别用于在编程语言里转义成反斜杠，转换成两个反斜杠后再在正则表达式里转义成一个反斜杠。</p>
</blockquote>
<hr>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">import re</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">re.compile(string[,flag])  </div><div class="line">#以下为匹配所用函数</div><div class="line">#参数flag是匹配模式，取值可以使用按位或运算符’|’表示同时生效，比如re.I | re.M。</div><div class="line">re.match(pattern, string[, flags])</div><div class="line">re.search(pattern, string[, flags])</div><div class="line">re.split(pattern, string[, maxsplit])</div><div class="line">re.findall(pattern, string[, flags])</div><div class="line">re.finditer(pattern, string[, flags])</div><div class="line">re.sub(pattern, repl, string[, count])</div><div class="line">re.subn(pattern, repl, string[, count])</div></pre></td></tr></table></figure>
<hr>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">• re.I(全拼：IGNORECASE): 忽略大小写（括号内是完整写法，下同）</div><div class="line">• re.M(全拼：MULTILINE): 多行模式，改变&apos;^&apos;和&apos;$&apos;的行为（参见上图）</div><div class="line">• re.S(全拼：DOTALL): 点任意匹配模式，改变&apos;.&apos;的行为</div><div class="line">• re.L(全拼：LOCALE): 使预定字符类 \w \W \b \B \s \S 取决于当前区域设定</div><div class="line">• re.U(全拼：UNICODE): 使预定字符类 \w \W \b \B \s \S \d \D 取决于unicode定义的字符属性</div><div class="line">• re.X(全拼：VERBOSE): 详细模式。这个模式下正则表达式可以是多行，忽略空白字符，并可以加入注释。</div></pre></td></tr></table></figure>
<hr>
<blockquote>
<p>1.string: 匹配时使用的文本。<br>2.re: 匹配时使用的Pattern对象。<br>3.pos: 文本中正则表达式开始搜索的索引。值与Pattern.match()和Pattern.seach()方法的同名参数相同。<br>4.endpos: 文本中正则表达式结束搜索的索引。值与Pattern.match()和Pattern.seach()方法的同名参数相同。<br>5.lastindex: 最后一个被捕获的分组在文本中的索引。如果没有被捕获的分组，将为None。<br>6.lastgroup: 最后一个被捕获的分组的别名。如果这个分组没有别名或者没有被捕获的分组，将为None。<br>方法：<br>1.group([group1, …]):<br>获得一个或多个分组截获的字符串；指定多个参数时将以元组形式返回。group1可以使用编号也可以使用别名；编号0代表整个匹配的子串；不填写参数时，返回group(0)；没有截获字符串的组返回None；截获了多次的组返回最后一次截获的子串。<br>2.groups([default]):<br>以元组形式返回全部分组截获的字符串。相当于调用group(1,2,…last)。default表示没有截获字符串的组以这个值替代，默认为None。<br>3.groupdict([default]):<br>返回以有别名的组的别名为键、以该组截获的子串为值的字典，没有别名的组不包含在内。default含义同上。<br>4.start([group]):<br>返回指定的组截获的子串在string中的起始索引（子串第一个字符的索引）。group默认值为0。<br>5.end([group]):<br>返回指定的组截获的子串在string中的结束索引（子串最后一个字符的索引+1）。group默认值为0。<br>6.span([group]):<br>返回(start(group), end(group))。<br>7.expand(template):<br>将匹配到的分组代入template中然后返回。template中可以使用\id或\g、\g引用分组，但不能使用编号0。\id与\g是等价的；但\10将被认为是第10个分组，如果你想表达\1之后是字符’0’，只能使用\g0。</p>
</blockquote>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/13/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/13/">13</a><span class="page-number current">14</span><a class="page-number" href="/page/15/">15</a><a class="extend next" rel="next" href="/page/15/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="http://wx2.sinaimg.cn/mw690/63b4ac8dgy1ffzs5lll1oj20zk0qoq4z.jpg"
               alt="dzx" />
          <p class="site-author-name" itemprop="name">dzx</p>
           
              <p class="site-description motion-element" itemprop="description"></p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives">
                <span class="site-state-item-count">147</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-categories">
              
                <span class="site-state-item-count">59</span>
                <span class="site-state-item-name">分类</span>
              
            </div>
          

          
            
            
            <div class="site-state-item site-state-tags">
              
                <span class="site-state-item-count">113</span>
                <span class="site-state-item-name">标签</span>
              
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

        


      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">dzx</span>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Muse
  </a>
</div>


        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.1"></script>



  
  

  
    <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.1"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.1"></script>

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.1"></script>



  


  




	





  





  





  






  





  

  

  

  

  

  

</body>
</html>
