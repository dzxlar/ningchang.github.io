<!doctype html>



  


<html class="theme-next muse use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.1" />






<meta property="og:type" content="website">
<meta property="og:title" content="dzxblog">
<meta property="og:url" content="http://yoursite.com/page/8/index.html">
<meta property="og:site_name" content="dzxblog">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="dzxblog">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":0,"b2t":false,"scrollpercent":false},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/page/8/"/>





  <title>dzxblog</title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  















  
  
    
  

  <div class="container sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">dzxblog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/06/05/【热部署】JRebel/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="dzx">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="http://wx2.sinaimg.cn/mw690/63b4ac8dgy1ffzs5lll1oj20zk0qoq4z.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="dzxblog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/06/05/【热部署】JRebel/" itemprop="url">【热部署】JRebel</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-06-05T11:04:48+08:00">
                2017-06-05
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/热部署/" itemprop="url" rel="index">
                    <span itemprop="name">热部署</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><a href="https://zeroturnaround.com/software/jrebel/quickstart/eclipse/" target="_blank" rel="external">官方文档</a></p>
<h3 id="Install"><a href="#Install" class="headerlink" title="Install"></a>Install</h3><p><strong>1. Eclipse &gt; Help &gt; Install New Software &gt; Add</strong></p>
<blockquote>
<p>name : JRebel<br>location：<a href="http://update.zeroturnaround.com/update-site" target="_blank" rel="external">http://update.zeroturnaround.com/update-site</a></p>
</blockquote>
<h3 id="Active"><a href="#Active" class="headerlink" title="Active"></a>Active</h3><p><strong>2.1、Help &gt; JRebel &gt; Activation</strong><br><strong>2.2、Fill out the form</strong><br><strong>2.3、Activate JRebel</strong><br><strong>2.4、Next → Startup configuration</strong></p>
<h3 id="Startup-Configuration"><a href="#Startup-Configuration" class="headerlink" title="Startup Configuration"></a>Startup Configuration</h3><blockquote>
<p>将JRebel部署到服务器中或者在独立应用中</p>
</blockquote>
<h3 id="Project-configuration"><a href="#Project-configuration" class="headerlink" title="Project configuration"></a>Project configuration</h3><blockquote>
<p>配置项目</p>
</blockquote>
<p><strong>3.1、Help &gt; JRebel &gt; Configuration &gt; Projects.</strong><br><img src="https://zeroturnaround.com/wp-content/uploads/2014/10/jrebel-ide-icon.png" alt="这里写图片描述">This will generate rebel.xml and keep it up to date</p>
<p><img src="https://zeroturnaround.com/wp-content/uploads/2016/02/jrcloud.png" alt="这里写图片描述">This will generate rebel-remote.xml</p>
<p><strong>重新部署应用</strong></p>
<p><img src="http://img.blog.csdn.net/20170330154533605?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMjA1OTc0Nzk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述"></p>
<hr>
<p><img src="http://img.blog.csdn.net/20170330154543168?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMjA1OTc0Nzk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述"></p>
<hr>
<p><img src="http://img.blog.csdn.net/20170330154553668?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMjA1OTc0Nzk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述"></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/06/05/Zookeeper学习笔记（四）——-主从模式/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="dzx">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="http://wx2.sinaimg.cn/mw690/63b4ac8dgy1ffzs5lll1oj20zk0qoq4z.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="dzxblog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/06/05/Zookeeper学习笔记（四）——-主从模式/" itemprop="url">Zookeeper学习笔记（四）—— 主从模式</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-06-05T11:02:01+08:00">
                2017-06-05
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Zookeeper/" itemprop="url" rel="index">
                    <span itemprop="name">Zookeeper</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="zookeeper编程"><a href="#zookeeper编程" class="headerlink" title="zookeeper编程"></a>zookeeper编程</h3><ul>
<li>zookeeper有一个java绑定和一个c绑定</li>
<li>c绑定的两种形式：单线程和多线程</li>
<li>两种形式的区别在于<strong>如何循环消息以获取更多消息</strong></li>
</ul>
<h3 id="主从复制的Zookeeper"><a href="#主从复制的Zookeeper" class="headerlink" title="主从复制的Zookeeper"></a>主从复制的Zookeeper</h3><p>在评估、开发和测试环境中。使用zookeeper独立模式</p>
<p>在生产模式中。应用主从复制模式。</p>
<blockquote>
<p>相同应用中服务器主从复制组叫做 quorum , 并且在主从复制模式中，在quorum中的所有服务器有相同的配置文件副本</p>
</blockquote>
<p>注意：<strong>如果使用zk的主从模式，至少3台服务器。并且建议基数服务器。</strong><br>原因：1. 如果只有两台服务器，其中的一个故障的时候，没有足够的机器形成多数quorum。</p>
<ol>
<li>在本质上两台服务比单台服务更不稳定，因为有两个单点。</li>
</ol>
<p>配置文件修改</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">tickTime=2000</div><div class="line">dataDir=/var/lib/zookeeper</div><div class="line">clientPort=2181</div><div class="line">initLimit=5 </div><div class="line">syncLimit=2</div><div class="line">server.1=zoo1:2888:3888</div><div class="line">server.2=zoo2:2888:3888</div><div class="line">server.3=zoo3:2888:3888</div></pre></td></tr></table></figure>
<ul>
<li>initLimit: 限定quorum中的Zookeeper服务器连接到Leader的超时时间。（eg.initLimit的超时时间是5个标记号，2000毫秒一个标记，就是10秒） </li>
<li>server.x: 列出了构成Zookeeper服务的服务器(eg.通过查找data目录中的myid文件知道是哪个服务。这个myid个文件包含了服务编号，用ASCII)</li>
<li>端口号2888和3888：服务器节点使用前面的端口连接到其他节点。便于同事之间的通信（eg.对更新的顺序取得统一的意见）<blockquote>
<p>一个Zookeeper的服务器用这个端口连接follower到leader。当一个新的leader产生时，follower使用这个端口打开一个TCP连接，连接到leader。因为默认的leader选举也使用TCP。我们现在需要另一个端口用来leader选举。这是在服务器条目的第二个端口</p>
</blockquote>
</li>
</ul>
<hr>
<p>注意：在一台机器上测试多台服务器，在服务器配置文件为每个server.x指定servername为localhost,和独有的quorum &amp; leader选举端口（也就是 2888:3888, 2889:3889, 2890:3890在上面的示例中）。当然分开dataDir和不同的clientPort也是非常重要的</p>
<hr>
<p>优化：获取更新的低延迟，有一个专门的事务日志目录非常重要。默认情况下，事务日志作为一个数据快照和myid文件放入同一个目录。datalogDir参数指示一个不同的目录用于事务日志</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/06/05/Zookeeper学习笔记（一）——-基础概念/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="dzx">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="http://wx2.sinaimg.cn/mw690/63b4ac8dgy1ffzs5lll1oj20zk0qoq4z.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="dzxblog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/06/05/Zookeeper学习笔记（一）——-基础概念/" itemprop="url">Zookeeper学习笔记（一）—— 基础概念</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-06-05T10:47:11+08:00">
                2017-06-05
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Zookeeper/" itemprop="url" rel="index">
                    <span itemprop="name">Zookeeper</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="zookeeper-核心"><a href="#zookeeper-核心" class="headerlink" title="zookeeper 核心"></a>zookeeper 核心</h2><ul>
<li>Zookeeper数据模型</li>
<li>Zookeeper会话</li>
<li>Zookeeper Watches</li>
<li>一致性保证（分布式事务涉及）</li>
</ul>
<hr>
<h2 id="zookeeper-数据模型"><a href="#zookeeper-数据模型" class="headerlink" title="zookeeper 数据模型"></a>zookeeper 数据模型</h2><h3 id="定义"><a href="#定义" class="headerlink" title="定义"></a>定义</h3><blockquote>
<p>是zk的分层的命名空间。类似分布式文件系统。命名空间的每个节点既可以关联数据，又可以关联目录。并且路径节点总是通过斜线”/“分隔</p>
<h3 id="znodes"><a href="#znodes" class="headerlink" title="znodes"></a>znodes</h3><p>概念<br>zk中的每个节点都被称为znode。<br>znode维护一个stat结构（包括数据变化的版本号、访问控制列表变化和时间戳）</p>
</blockquote>
<p>作用</p>
<blockquote>
<p>版本号和时间戳可以让zk验证缓存和协调更新。znode的数据只要发生了变化，版本号就会增加。<br>当客户端执行更新或删除时，客户端必须提供他正在改变的znode的版本号。如果它提供的版本号和真实的数据版本号不一致，更新将会失败（行为可能被覆盖）</p>
</blockquote>
<p><strong>对zk进行编程主要是对znode作为主体操作</strong></p>
<p>关于node的扩展</p>
<blockquote>
<p>在分布式应用工程中，node可以指的是一般的主机，一个服务器，全体成员的一员，一个客户端程序，等等。在Zookeeper的文档中，znode指的是数据节点。Servers指的是组成Zookeeper服务的机器；quorum peers 指的是组成全体的servers；client指的是任何使用Zookeeper服务的主机和程序。</p>
</blockquote>
<hr>
<h2 id="znode-基本特征"><a href="#znode-基本特征" class="headerlink" title="znode 基本特征"></a>znode 基本特征</h2><h3 id="watches"><a href="#watches" class="headerlink" title="watches"></a>watches</h3><blockquote>
<p>znode的变化将会触发watches后清除watches。<strong>触发watches时，Zookeeper向客户端发送一个通知</strong></p>
<h3 id="数据访问"><a href="#数据访问" class="headerlink" title="数据访问"></a>数据访问</h3><ol>
<li>命名空间里的每个znodes上的数据存储都是<strong>原子性的读取和写入</strong>。</li>
<li>读取时获取所有与znode有关的数据字节，写入时替换所有的数据字节。</li>
<li>每个节点通过访问控制列表进行限制访问</li>
<li>zk不用来存储数据，只是用来<strong>管理协调数据</strong>。数据形式可以是配置表单，状态信息，集合点等</li>
<li>各种形式的协调数据属性都非常小</li>
<li>如果需要大数据存储，通常的做法是将数据存储进大存储器系统，如NFS和HDFS，然后将<strong>存储指针和地址</strong>存储进Zookeeper<h3 id="临时节点"><a href="#临时节点" class="headerlink" title="临时节点"></a>临时节点</h3>znode一旦session创建就存在，session结束就被删除<br><strong>临时节点不可以有子节点</strong><h3 id="序列节点"><a href="#序列节点" class="headerlink" title="序列节点"></a>序列节点</h3></li>
<li>当创建znode的时候你还可以请求在路径的最后追加一个单调递增的计数器</li>
<li>计数器在父节点命名唯一。而且是int类型。</li>
</ol>
</blockquote>
<hr>
<h2 id="zookeeper-计时"><a href="#zookeeper-计时" class="headerlink" title="zookeeper 计时"></a>zookeeper 计时</h2><h3 id="Zxid（事务ID）"><a href="#Zxid（事务ID）" class="headerlink" title="Zxid（事务ID）"></a>Zxid（事务ID）</h3><blockquote>
<p><strong>每个zk状态的变化都以zxid的形式接收到标记</strong><br>zx特征：如果zxid1早于zxid2则zxid1一定小于zxid2。并且暴露zk所有变化的总排序</p>
<h3 id="版本号"><a href="#版本号" class="headerlink" title="版本号"></a>版本号</h3><p><strong>节点的每个变化都会引起那个节点的版本号的其中之一增加</strong><br>1.version： 数据变化版本号<br>2.cversion：子目录变化版本号<br>3.aversion：访问控制列表的变化版本号</p>
<h3 id="Ticks"><a href="#Ticks" class="headerlink" title="Ticks"></a>Ticks</h3><ol>
<li>服务器使用ticks定义事件（如状态上传，会话超时，同事之间的连接超时等）的时间。通常在多服务器中使用</li>
<li>如果一个客户端请求会话超时小于最小的会话超时，服务器就会告诉客户端会话超时实际上是最低会话超时时间。<h3 id="Real-Time"><a href="#Real-Time" class="headerlink" title="Real Time"></a>Real Time</h3>zk不使用实时或时钟时间，除了将时间戳加在znode创建和更新的stat结构上。</li>
</ol>
</blockquote>
<hr>
<h2 id="zookeeper-Stat"><a href="#zookeeper-Stat" class="headerlink" title="zookeeper Stat"></a>zookeeper Stat</h2><ul>
<li>czxid - 引起这个znode创建的zxid</li>
<li>mzxid - znode最后更新的zxid</li>
<li>ctime - znode被创建的毫秒数(从1970年开始)</li>
<li>mtime - znode最后修改的毫秒数(从1970年开始)</li>
<li>version - znode数据变化号</li>
<li>cversion - znode子节点变化号</li>
<li>aversion - znode访问控制列表的变化号</li>
<li>ephemeralOwner - 如果是临时节点这个是znode拥有者的session - id。如果不是临时节点则是0。</li>
<li>dataLength - znode的数据长度</li>
<li>numChildren - znode子节点数量</li>
</ul>
<hr>
<h3 id="zookeeper-会话"><a href="#zookeeper-会话" class="headerlink" title="zookeeper 会话"></a>zookeeper 会话</h3><blockquote>
<p>Zookeeper客户端通过使用语言绑定在服务上创建一个handle建立一个和Zookeeper服务的会话</p>
</blockquote>
<p>会话成功：handle连接zk服务器。从connection变为connected状态。<br>会话失败：handle变为closed状态(例如会话超时或授权失败，或应用明确的关闭处理器)</p>
<p>创建客户端会话<br><strong>以逗号分隔开的host:port的列表</strong><br>（eg:”127.0.0.1:4545” or   “127.0.0.1:3000,127.0.0.1:3001,127.0.0.1:3002”)</p>
<p>zk会选择任意一个服务并尝试连接它。如果这个连接失败，客户端变为disconected，客户端会自动的尝试连接列表里的下一个服务器，直到建立连接</p>
<p>connectionString+<strong>chroot</strong>：改变程序执行时所参考的根目录位置<br><a href="http://blog.csdn.net/frozen_fish/article/details/2244870" target="_blank" rel="external">chroot命令的作用</a></p>
<p>客户端连接zk会话，作为安全措施，需要将sessionId（64位的数字）和密码发送给客户端</p>
<p>当客户端从ZK集群分隔。它将开始搜索在session创建期间指定的服务器列表server.x 。session状态将会从”connected”转为”expired”(重建超时)</p>
<p>zk客户端会自动重连，只有当zk通知session超时才能创建新的session。</p>
<p>zk集群管理session会话</p>
<blockquote>
<p>timeout决定会话何时过期。<br>当集群在指定的session超时周期内没有听到客户端(没有心跳)时发生。<br>集群会删除全部session的临时节点并立即通知其他客户端(watch这些znode的客户端)。</p>
</blockquote>
<p>过期会话状态转化实例通过watcher查看</p>
<ol>
<li>‘connected’：建立session且正在和集群通信</li>
<li>…客户端从集群分离</li>
<li>‘disconnected’：客户端丢失集群的连接</li>
<li>…时间消失，’timeout’周期之后集群过期session，客户端什么都看不到</li>
<li>…时间消失，客户端收复集群的连通性</li>
<li>‘expired’：最终客户端重连到集群，然后是过期通知</li>
</ol>
<hr>
<h2 id="zookeeper-Watches"><a href="#zookeeper-Watches" class="headerlink" title="zookeeper Watches"></a>zookeeper Watches</h2><blockquote>
<p>Zookeeper里的所有读取操作都有设置watch的选项 。<strong>watch事件是one-time触发，向客户端发送设置watch，当设置watch的数据变化时发生</strong></p>
</blockquote>
<p>watch特征</p>
<ul>
<li>一次触发</li>
<li>发往客户端</li>
<li>为数据设置watch</li>
</ul>
<h3 id="Watch特征"><a href="#Watch特征" class="headerlink" title="Watch特征"></a>Watch特征</h3><ul>
<li>Watches和其他事件、watches和异步恢复都是有序的。Zookeeper客户端保证每件事都是有序派发。</li>
<li>客户端在看到新数据之前先看到watch事件。</li>
<li>对应更新顺序的Zookeeper watches事件顺序由Zookeeper服务所见。</li>
</ul>
<p>注意：</p>
<ol>
<li>如果你得到一个watch事件且想在将来的变化得到通知，必须设置另一个watch</li>
<li>因为watches是一次触发且在获得事件和发送请求得到wathes之间有延迟你不能可靠的看到发生在Zookeeper节点的每一个变化</li>
<li>一个watch对象，或function/context对，对于指定的通知只能触发一次。(eg. 如果相同的文件通过exists和getData注册了相同的watch对象并且文件稍后删除了，watch将只会触发文件的删除通知)</li>
<li>从服务端断开连接时(比如服务器故障)，将不会得到任何watches直到重新建立连接</li>
</ol>
<hr>
<h2 id="zookeeper-ACLs"><a href="#zookeeper-ACLs" class="headerlink" title="zookeeper ACLs"></a>zookeeper ACLs</h2><blockquote>
<ol>
<li>Zookeeper使用ACLs控制访问它的znodes(Zookeeper的数据节点)</li>
<li>Zookeeper节点不由三个标准范围(用户，组 和 world)限制。Zookeeper没有znode所有者的概念。而是一个ACLs指定一组ids和与这些ids相关联的权限</li>
<li>ACL只适用于特定的znode。尤其不适用于children</li>
<li>ACLs不是递归控制<br>(eg. 如果/app对ip:192.168.1.56是只读的并且/app/status是全都可读的，任何人可以读取/app/status)</li>
<li>Zookeeper支持可插拔的权限认证方案</li>
</ol>
</blockquote>
<h3 id="ACL权限"><a href="#ACL权限" class="headerlink" title="ACL权限"></a>ACL权限</h3><ul>
<li>CREATE：可以创建子节点</li>
<li>READ：可以从节点获取数据并列出它的子节点</li>
<li>WRITE：可以向节点设置数据</li>
<li>DELETE：可以删除一个子节点</li>
<li>ADMIN：可以设置权限</li>
</ul>
<h3 id="内嵌的ACL-schemes"><a href="#内嵌的ACL-schemes" class="headerlink" title="内嵌的ACL schemes"></a>内嵌的ACL schemes</h3><ul>
<li>world：有单独的id，anyone,代表任何人</li>
<li>auth:不适用任何id，代表任何授权的用户。</li>
<li>digest：使用username;password字符串生成MD5哈希作为ACL ID身份。通过发送username:password明文授权。在ACL里使用时expression将会是username:base64编码的SHA1 password摘要。</li>
<li>ip:使用客户端IP作为ACL ID身份。</li>
</ul>
<h2 id="一致性保证"><a href="#一致性保证" class="headerlink" title="一致性保证"></a>一致性保证</h2><p><strong>顺序一致性</strong></p>
<blockquote>
<p>客户端的更新将发送到序列</p>
</blockquote>
<p><strong>原子性</strong></p>
<blockquote>
<p>更新成功或失败 – 没有局部结果</p>
</blockquote>
<p><strong>单一系统影像</strong></p>
<blockquote>
<p>客户端看到的服务端的视图都一样</p>
</blockquote>
<p><strong>可靠性</strong></p>
<p>一旦更新应用了，它将会一直保持到下次更新覆盖。这个保证有两个推论</p>
<ul>
<li><p>如果客户端成功，更新就被应用。客户端看不到失败现象。<br>客户端可以看到任何更新，通过读取请求或成功的更新<br>时效性</p>
</li>
<li><p>系统的客户端视图在特定的时间保证是最新的。</p>
</li>
</ul>
<h2 id="Java"><a href="#Java" class="headerlink" title="Java"></a>Java</h2><blockquote>
<p>创建Zookeeper的时候，同时创建了两个线程：一个IO线程和事件线程。所有的IO都在在IO线程上(使用Java NIO)。所有的事件回调都在事件线程上。Session在IO线程上维护如重连Zookeeper服务和维护心跳。同步方法调用也在IO线程处理。所有异步调用和watche事件在事件线程上处理</p>
</blockquote>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/06/05/ElasticSearch工具-插件汇总/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="dzx">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="http://wx2.sinaimg.cn/mw690/63b4ac8dgy1ffzs5lll1oj20zk0qoq4z.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="dzxblog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/06/05/ElasticSearch工具-插件汇总/" itemprop="url">ElasticSearch工具/插件汇总</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-06-05T10:46:30+08:00">
                2017-06-05
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/ElasticSearch/" itemprop="url" rel="index">
                    <span itemprop="name">ElasticSearch</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p><a href="https://github.com/jprante/elasticsearch-jdbc/wiki/Step-by-step-recipe-for-setting-up-the-river-with-SQL-Server" target="_blank" rel="external">ES与数据库同步工具——ElasticSearch-JDBC</a></p>
</blockquote>
<hr>
<blockquote>
<p><a href="https://github.com/mobz/elasticsearch-head" target="_blank" rel="external">ES内容管理工具——head</a><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">http://127.0.0.1:9200/_plugin/head/</div></pre></td></tr></table></figure></p>
</blockquote>
<hr>
<blockquote>
<p><a href="http://bigdesk.org/" target="_blank" rel="external">ES服务器监控工具——bigdesk</a></p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">http://127.0.0.1:9200/_plugin/bigdesk</div></pre></td></tr></table></figure>
<hr>
<blockquote>
<p><a href="https://github.com/lmenezes/elasticsearch-kopf" target="_blank" rel="external">ES集群操作的API工具——Kopf</a></p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">http://127.0.0.1:9200/_plugin/kopf/</div></pre></td></tr></table></figure>
<hr>
<blockquote>
<p><a href="http://www.cnblogs.com/jason-qj/p/6357592.html" target="_blank" rel="external">ELK5.1.2+centos 6.8安装配置</a></p>
</blockquote>
<hr>
<p><a href="http://www.yjs001.cn/tools/elasticsearch/69066528191960794743.html" target="_blank" rel="external">插件安装方法</a></p>
<hr>
<p><a href="http://blog.csdn.net/blog_user_zk/article/details/53886347" target="_blank" rel="external">mysql导入数据到es</a></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/06/05/docker真实应用场景/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="dzx">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="http://wx2.sinaimg.cn/mw690/63b4ac8dgy1ffzs5lll1oj20zk0qoq4z.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="dzxblog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/06/05/docker真实应用场景/" itemprop="url">docker真实应用场景</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-06-05T10:44:29+08:00">
                2017-06-05
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/docker/" itemprop="url" rel="index">
                    <span itemprop="name">docker</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>简化配置、代码流水线管理、提高开发效率、隔离应用、整合服务器、调试能力、多租户环境、快速部署分别是docker的8个使用场景</p>
</blockquote>
<p><img src="http://dockerone.com/uploads/article/20150106/802e00800b6dca3038b072bffdd56e15.png" alt="这里写图片描述"></p>
<h3 id="Docker特性"><a href="#Docker特性" class="headerlink" title="Docker特性"></a>Docker特性</h3><ul>
<li>Docker提供了轻量级的虚拟化 </li>
<li>在同一台机器上创建更多数量的容器</li>
<li>容器的启动与停止都能在几秒中内完成</li>
</ul>
<hr>
<h3 id="1-简化配置"><a href="#1-简化配置" class="headerlink" title="1. 简化配置"></a>1. 简化配置</h3><blockquote>
<p>这是Docker公司宣传的Docker的主要使用场景。虚拟机的最大好处是能在你的硬件设施上运行各种配置不一样的平台（软件、系统），<strong>Docker在降低额外开销的情况下提供了同样的功能。它能让你将运行环境和配置放在代码中然后部署</strong>，同一个Docker的配置可以在不同的环境中使用，这样就降低了硬件要求和应用环境之间耦合度。</p>
</blockquote>
<h3 id="2-代码流水线（Code-Pipeline）管理"><a href="#2-代码流水线（Code-Pipeline）管理" class="headerlink" title="2. 代码流水线（Code Pipeline）管理"></a>2. 代码流水线（Code Pipeline）管理</h3><blockquote>
<p>前一个场景对于管理代码的流水线起到了很大的帮助。代码从开发者的机器到最终在生产环境上的部署，需要经过很多的中间环境。而每一个中间环境都有自己微小的差别，<strong>Docker给应用提供了一个从开发到上线均一致的环境，让代码的流水线变得简单不少。</strong></p>
</blockquote>
<h3 id="3-提高开发效率"><a href="#3-提高开发效率" class="headerlink" title="3. 提高开发效率"></a>3. 提高开发效率</h3><blockquote>
<p>不同的开发环境中，我们都想把两件事做好。<strong>一是我们想让开发环境尽量贴近生产环境，二是我们想快速搭建开发环境。</strong><br>理想状态中，要达到第一个目标，我们需要将每一个服务都跑在独立的虚拟机中以便监控生产环境中服务的运行状态。然而，我们却不想每次都需要网络连接，每次重新编译的时候远程连接上去特别麻烦。这就是Docker做的特别好的地方，开发环境的机器通常内存比较小，之前使用虚拟的时候，我们经常需要为开发环境的机器加内存，而现在Docker可以轻易的让几十个服务在Docker中跑起来。</p>
</blockquote>
<h3 id="4-隔离应用"><a href="#4-隔离应用" class="headerlink" title="4. 隔离应用"></a>4. 隔离应用</h3><blockquote>
<p><strong>有很多种原因会让你选择在一个机器上运行不同的应用</strong>，比如之前提到的提高开发效率的场景等。<br>我们经常需要考虑两点，一是因为要降低成本而进行服务器整合，二是将一个整体式的应用拆分成松耦合的单个服务（译者注：微服务架构）。</p>
</blockquote>
<h3 id="5-整合服务器"><a href="#5-整合服务器" class="headerlink" title="5. 整合服务器"></a>5. 整合服务器</h3><blockquote>
<p>正如通过虚拟机来整合多个应用，<strong>Docker隔离应用的能力使得Docker可以整合多个服务器以降低成本。由于没有多个操作系统的内存占用，以及能在多个实例之间共享没有使用的内存</strong>，Docker可以比虚拟机提供更好的服务器整合解决方案。</p>
</blockquote>
<h3 id="6-调试能力"><a href="#6-调试能力" class="headerlink" title="6. 调试能力"></a>6. 调试能力</h3><blockquote>
<p>Docker提供了很多的工具，这些工具不一定只是针对容器，但是却适用于容器。它们提供了很多的功能，包括可以为容器设置检查点、设置版本和查看两个容器之间的差别，这些特性可以帮助调试Bug。</p>
</blockquote>
<h3 id="7-多租户环境"><a href="#7-多租户环境" class="headerlink" title="7. 多租户环境"></a>7. 多租户环境</h3><blockquote>
<p>另外一个Docker有意思的使用场景是在多租户的应用中，它可以避免关键应用的重写。我们一个特别的关于这个场景的例子是为IoT（译者注：物联网）的应用开发一个快速、易用的多租户环境。这种多租户的基本代码非常复杂，很难处理，重新规划这样一个应用不但消耗时间，也浪费金钱。<br>使用Docker，可以为每一个租户的应用层的多个实例创建隔离的环境，这不仅简单而且成本低廉，当然这一切得益于Docker环境的启动速度和其高效的diff命令。</p>
</blockquote>
<h3 id="8-快速部署"><a href="#8-快速部署" class="headerlink" title="8. 快速部署"></a>8. 快速部署</h3><blockquote>
<p>在虚拟机之前，引入新的硬件资源需要消耗几天的时间。虚拟化技术（Virtualization）将这个时间缩短到了分钟级别。而Docker通过为进程仅仅创建一个容器而无需启动一个操作系统，再次将这个过程缩短到了秒级。</p>
</blockquote>
<hr>
<p><a href="http://dockone.io/article/126" target="_blank" rel="external">译文转载</a><br><a href="http://blog.flux7.com/blogs/docker/8-ways-to-use-docker-in-the-real-world" target="_blank" rel="external">原文出处</a><br><a href="http://dockone.io/" target="_blank" rel="external">docker论坛</a></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/06/05/【Java8】new-date-api/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="dzx">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="http://wx2.sinaimg.cn/mw690/63b4ac8dgy1ffzs5lll1oj20zk0qoq4z.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="dzxblog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/06/05/【Java8】new-date-api/" itemprop="url">【Java8】new date api</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-06-05T10:43:21+08:00">
                2017-06-05
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/java8/" itemprop="url" rel="index">
                    <span itemprop="name">java8</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div></pre></td><td class="code"><pre><div class="line">LocalDate yMd = LocalDate.of(2017, 4, 1);</div><div class="line">System.out.println(yMd);</div><div class="line">System.out.println(yMd.getYear());</div><div class="line">System.out.println(yMd.getMonth());</div><div class="line">System.out.println(yMd.getDayOfMonth());</div><div class="line">System.out.println(yMd.getDayOfYear());</div><div class="line">System.out.println(yMd.getDayOfWeek());</div><div class="line">System.out.println(yMd.isLeapYear());</div><div class="line">System.out.println(yMd.lengthOfMonth());</div><div class="line">System.out.println(yMd.lengthOfYear());</div><div class="line"></div><div class="line">System.out.println(&quot;==========================&quot;);</div><div class="line"></div><div class="line">LocalDate today = LocalDate.now();</div><div class="line">System.out.println(today);</div><div class="line"></div><div class="line">System.out.println(&quot;==========================&quot;);</div><div class="line"></div><div class="line">System.out.println(yMd.get(ChronoField.YEAR));</div><div class="line">System.out.println(yMd.get(ChronoField.MONTH_OF_YEAR));</div><div class="line">System.out.println(yMd.get(ChronoField.DAY_OF_MONTH));</div><div class="line">System.out.println(yMd.get(ChronoField.DAY_OF_WEEK));</div><div class="line"></div><div class="line">System.out.println(&quot;==========================&quot;);</div><div class="line"></div><div class="line">LocalTime hMs = LocalTime.of(17, 50, 10);</div><div class="line">System.out.println(hMs);</div><div class="line">System.out.println(hMs.getHour());</div><div class="line">System.out.println(hMs.getMinute());</div><div class="line">System.out.println(hMs.getSecond());</div><div class="line"></div><div class="line">System.out.println(&quot;==========================&quot;);</div><div class="line"></div><div class="line">LocalDate parseDate = LocalDate.parse(&quot;2017-04-05&quot;);</div><div class="line">LocalTime parseTime = LocalTime.parse(&quot;18:10:10&quot;);</div><div class="line">System.out.println(parseDate);</div><div class="line">System.out.println(parseTime);</div><div class="line"></div><div class="line">System.out.println(&quot;==========================&quot;);</div><div class="line"></div><div class="line">LocalDateTime yMdhMs = LocalDateTime.of(yMd, hMs);</div><div class="line">LocalDateTime athMs = yMd.atTime(hMs);</div><div class="line">LocalDateTime atyMd = hMs.atDate(yMd);</div><div class="line">System.out.println(athMs);</div><div class="line">System.out.println(atyMd);</div><div class="line">System.out.println(yMdhMs);</div><div class="line"></div><div class="line">System.out.println(&quot;==========================&quot;);</div><div class="line"></div><div class="line">LocalDate toDate = yMdhMs.toLocalDate();</div><div class="line">LocalTime toTime = yMdhMs.toLocalTime();</div><div class="line">System.out.println(toDate);</div><div class="line">System.out.println(toTime);</div><div class="line"></div><div class="line">System.out.println(&quot;==========================&quot;);</div><div class="line"></div><div class="line">System.out.println(Instant.ofEpochSecond(3));</div><div class="line">System.out.println(Instant.ofEpochSecond(2,1_000_000_000));</div><div class="line"></div><div class="line">System.out.println(&quot;==========================&quot;);</div><div class="line"></div><div class="line">Duration ofMin = Duration.ofMinutes(3);</div><div class="line">Duration of = Duration.of(3, ChronoUnit.MINUTES);</div><div class="line"></div><div class="line">System.out.println(ofMin);</div><div class="line">System.out.println(of);</div><div class="line"></div><div class="line">Period ofDay = Period.ofDays(10);</div><div class="line">Period ofWeek = Period.ofWeeks(3);</div><div class="line">Period yearMonthDay = Period.of(2, 6, 1);//2年6个月1天</div><div class="line"></div><div class="line">System.out.println(ofDay);</div><div class="line">System.out.println(ofWeek);</div><div class="line">System.out.println(yearMonthDay);</div><div class="line"></div><div class="line">System.out.println(&quot;==========================&quot;);</div><div class="line"></div><div class="line">LocalDate editDate = LocalDate.of(2017, 4, 10);</div><div class="line"></div><div class="line">System.out.println(editDate);</div><div class="line">System.out.println(editDate.withYear(2020));</div><div class="line">System.out.println(editDate.withMonth(7));</div><div class="line">System.out.println(editDate.with(ChronoField.DAY_OF_MONTH,7));</div><div class="line"></div><div class="line">System.out.println(editDate.plusWeeks(1));</div><div class="line">System.out.println(editDate.minusWeeks(3));</div><div class="line">System.out.println(editDate.plus(10,ChronoUnit.MONTHS));</div><div class="line"></div><div class="line">System.out.println(&quot;==========================&quot;);</div><div class="line"></div><div class="line">LocalDate tempDate = LocalDate.of(2017, 4, 6);</div><div class="line"></div><div class="line">System.out.println(tempDate.with(nextOrSame(DayOfWeek.SUNDAY)));</div><div class="line">System.out.println(tempDate.with(lastDayOfMonth()));</div><div class="line">	</div><div class="line">LocalDate lambdaDate = tempDate.with(temporal -&gt; &#123;</div><div class="line">	DayOfWeek dow = DayOfWeek.of(temporal.get(ChronoField.DAY_OF_WEEK));</div><div class="line">	int dayToAdd = 1;</div><div class="line">	if(dow == DayOfWeek.THURSDAY) dayToAdd = 3;</div><div class="line">	else if(dow == DayOfWeek.WEDNESDAY) dayToAdd = 2;</div><div class="line">	return temporal.plus(dayToAdd,ChronoUnit.DAYS);</div><div class="line">&#125;);</div><div class="line">System.out.println(lambdaDate);</div><div class="line"></div><div class="line">System.out.println(&quot;==========================&quot;);</div><div class="line"></div><div class="line">DateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd hh:MM:ss&quot;);</div><div class="line">LocalDateTime date = LocalDateTime.of(yMd, hMs);</div><div class="line">String formatDate = dtf.format(date);</div><div class="line">System.out.println(formatDate);</div><div class="line">   </div><div class="line">System.out.println(&quot;==========================&quot;);</div><div class="line"></div><div class="line">DateTimeFormatter formatter = </div><div class="line">		new DateTimeFormatterBuilder()</div><div class="line">	    .appendText(ChronoField.DAY_OF_MONTH)</div><div class="line">	    .appendLiteral(&quot;.&quot;)</div><div class="line">	    .appendText(ChronoField.MONTH_OF_YEAR)</div><div class="line">	    .appendLiteral(&quot;.&quot;)</div><div class="line">	    .appendText(ChronoField.YEAR)</div><div class="line">	    .parseCaseInsensitive()</div><div class="line">	    .toFormatter(Locale.ITALIAN);</div><div class="line">System.out.println(formatter.format(date));</div><div class="line"></div><div class="line">System.out.println(&quot;==========================&quot;);</div><div class="line"></div><div class="line">ZoneId zoneId = TimeZone.getDefault().toZoneId();</div><div class="line">System.out.println(zoneId);</div></pre></td></tr></table></figure>
<hr>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div></pre></td><td class="code"><pre><div class="line">2017-04-01</div><div class="line">2017</div><div class="line">APRIL</div><div class="line">1</div><div class="line">91</div><div class="line">SATURDAY</div><div class="line">false</div><div class="line">30</div><div class="line">365</div><div class="line">==========================</div><div class="line">2017-04-06</div><div class="line">==========================</div><div class="line">2017</div><div class="line">4</div><div class="line">1</div><div class="line">6</div><div class="line">==========================</div><div class="line">17:50:10</div><div class="line">17</div><div class="line">50</div><div class="line">10</div><div class="line">==========================</div><div class="line">2017-04-05</div><div class="line">18:10:10</div><div class="line">==========================</div><div class="line">2017-04-01T17:50:10</div><div class="line">2017-04-01T17:50:10</div><div class="line">2017-04-01T17:50:10</div><div class="line">==========================</div><div class="line">2017-04-01</div><div class="line">17:50:10</div><div class="line">==========================</div><div class="line">1970-01-01T00:00:03Z</div><div class="line">1970-01-01T00:00:03Z</div><div class="line">==========================</div><div class="line">PT3M</div><div class="line">PT3M</div><div class="line">P10D</div><div class="line">P21D</div><div class="line">P2Y6M1D</div><div class="line">==========================</div><div class="line">2017-04-10</div><div class="line">2020-04-10</div><div class="line">2017-07-10</div><div class="line">2017-04-07</div><div class="line">2017-04-17</div><div class="line">2017-03-20</div><div class="line">2018-02-10</div><div class="line">==========================</div><div class="line">2017-04-09</div><div class="line">2017-04-30</div><div class="line">2017-04-09</div><div class="line">==========================</div><div class="line">2017-04-01 05:04:10</div><div class="line">==========================</div><div class="line">1.aprile.2017</div><div class="line">==========================</div><div class="line">Asia/Shanghai</div></pre></td></tr></table></figure>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/06/05/Java各种对象名称详解/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="dzx">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="http://wx2.sinaimg.cn/mw690/63b4ac8dgy1ffzs5lll1oj20zk0qoq4z.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="dzxblog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/06/05/Java各种对象名称详解/" itemprop="url">Java各种对象名称详解</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-06-05T10:41:55+08:00">
                2017-06-05
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Object/" itemprop="url" rel="index">
                    <span itemprop="name">Object</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="PO-persistant-object-持久对象"><a href="#PO-persistant-object-持久对象" class="headerlink" title="PO(persistant object) 持久对象"></a>PO(persistant object) 持久对象</h2><blockquote>
<p>在 <strong>o/r 映射</strong>的时候出现的概念，如果没有 o/r 映射，没有这个概念存在了。<strong>通常对应数据模型 ( 数据库 ), 本身还有部分业务逻辑的处理。可以看成是与数据库中的表相映射的 java 对象。</strong>最简单的 PO 就是对应数据库中某个表中的一条记录，多个记录可以用 PO 的集合。 PO 中应该不包含任何对数据库的操作。</p>
</blockquote>
<p>##DO（Domain Object）领域对象</p>
<blockquote>
<p>就是从现实世界中抽象出来的有形或无形的业务实体。<strong>一般和数据中的表结构对应。</strong></p>
</blockquote>
<h2 id="TO-Transfer-Object"><a href="#TO-Transfer-Object" class="headerlink" title="TO(Transfer Object)"></a>TO(Transfer Object)</h2><blockquote>
<p>数据传输对象<br>在应用程序不同 tie( 关系 ) 之间传输的对象</p>
</blockquote>
<h2 id="DTO（Data-Transfer-Object）数据传输对象"><a href="#DTO（Data-Transfer-Object）数据传输对象" class="headerlink" title="DTO（Data Transfer Object）数据传输对象"></a>DTO（Data Transfer Object）数据传输对象</h2><blockquote>
<p>这个概念来源于J2EE的设计模式，原来的目的是为了EJB的分布式应用提供粗粒度的数据实体，以减少分布式调用的次数，从而提高分布式调用的性能和降低网络负载，但在这里，我泛指用于展示层与服务层之间的数据传输对象。</p>
</blockquote>
<h2 id="VO-view-object-值对象"><a href="#VO-view-object-值对象" class="headerlink" title="VO(view object) 值对象"></a>VO(view object) 值对象</h2><blockquote>
<p>视图对象，用于展示层，它的作用是把某个指定页面（或组件）的所有数据封装起来。</p>
</blockquote>
<p>##BO(business object) 业务对象</p>
<blockquote>
<p>从业务模型的角度看 , 见 UML 元件领域模型中的领域对象。封装业务逻辑的 java 对象 , 通过调用 DAO 方法 , 结合 PO,VO 进行业务操作。 business object: 业务对象 主要作用是把业务逻辑封装为一个对象。这个对象可以包括一个或多个其它的对象。 比如一个简历，有教育经历、工作经历、社会关系等等。 我们可以把教育经历对应一个 PO ，工作经历对应一个 PO ，社会关系对应一个 PO 。 建立一个对应简历的 BO 对象处理简历，每个 BO 包含这些 PO 。 这样处理业务逻辑时，我们就可以针对 BO 去处理。</p>
</blockquote>
<h2 id="POJO-plain-ordinary-java-object-简单无规则-java-对象"><a href="#POJO-plain-ordinary-java-object-简单无规则-java-对象" class="headerlink" title="POJO(plain ordinary java object) 简单无规则 java 对象"></a>POJO(plain ordinary java object) 简单无规则 java 对象</h2><blockquote>
<p>纯的传统意义的 java 对象。就是说在一些 Object/Relation Mapping 工具中，能够做到维护数据库表记录的 persisent object 完全是一个符合 Java Bean 规范的纯 Java 对象，没有增加别的属性和方法。我的理解就是最基本的 Java Bean ，只有属性字段及 setter 和 getter 方法！。</p>
</blockquote>
<h2 id="DAO-data-access-object-数据访问对象"><a href="#DAO-data-access-object-数据访问对象" class="headerlink" title="DAO(data access object) 数据访问对象"></a>DAO(data access object) 数据访问对象</h2><blockquote>
<p>是一个 sun 的一个标准 j2ee 设计模式， 这个模式中有个接口就是 DAO ，它负持久层的操作。为业务层提供接口。此对象用于访问数据库。通常和 PO 结合使用， DAO 中包含了各种数据库的操作方法。通过它的方法 , 结合 PO 对数据库进行相关的操作。夹在业务逻辑与数据库资源中间。配合 VO, 提供数据库的 CRUD 操作</p>
</blockquote>
<p><a href="http://www.hollischuang.com/archives/553" target="_blank" rel="external">原文转自</a></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/06/05/线程笔记——LockSupport/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="dzx">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="http://wx2.sinaimg.cn/mw690/63b4ac8dgy1ffzs5lll1oj20zk0qoq4z.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="dzxblog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/06/05/线程笔记——LockSupport/" itemprop="url">线程笔记——LockSupport</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-06-05T10:41:08+08:00">
                2017-06-05
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/多线程/" itemprop="url" rel="index">
                    <span itemprop="name">多线程</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="LockSupport"><a href="#LockSupport" class="headerlink" title="LockSupport"></a>LockSupport</h2><p><img src="http://img.blog.csdn.net/20170410090804136?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMjA1OTc0Nzk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述"></p>
<p>LocalSupport类特性</p>
<ul>
<li><p>不可实例化</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">private LockSupport() &#123;&#125; // Cannot be instantiated.</div></pre></td></tr></table></figure>
</li>
<li><p>LockSupport的方法都是静态方法</p>
</li>
<li><p>私有变量</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">private static final sun.misc.Unsafe UNSAFE;</div><div class="line">   private static final long parkBlockerOffset;</div></pre></td></tr></table></figure>
<h2 id="私有变量-unsafe"><a href="#私有变量-unsafe" class="headerlink" title="私有变量:unsafe"></a>私有变量:unsafe</h2><blockquote>
<ol>
<li><strong>sun.misc.Unsafe</strong>可以直接操控内存。被JDK广泛用于自己的包中，如java.nio和java.util.concurrent</li>
<li>API十分不安全、不轻便、而且不稳定。不建议在生产环境中使用</li>
<li>这个不安全的类提供了一个观察HotSpot JVM内部结构并且可以对其进行修改。有时它可以被用来在不适用C++调试的情况下学习虚拟机内部结构，有时也可以被拿来做性能监控和开发工具</li>
</ol>
</blockquote>
<h2 id="私有变量-parkBlockerOffset"><a href="#私有变量-parkBlockerOffset" class="headerlink" title="私有变量: parkBlockerOffset"></a>私有变量: parkBlockerOffset</h2><ul>
<li>被LockSupport的setBlocker和getBlocker调用</li>
<li>这个对象是用来记录线程被阻塞时被谁阻塞的，用于线程监控和分析工具来定位原因</li>
</ul>
<h2 id="LockSupport-java"><a href="#LockSupport-java" class="headerlink" title="LockSupport.java"></a>LockSupport.java</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">/**</div><div class="line"> * 通过反射机制获取Thread类的parkBlocker字段对象。然后通过   </div><div class="line"> * sun.misc.Unsafe对象的objectFieldOffset方法获取到</div><div class="line"> * parkBlocker在内存里的偏移量</div><div class="line"> */</div><div class="line">parkBlockerOffset = UNSAFE.objectFieldOffset</div><div class="line">                (tk.getDeclaredField(&quot;parkBlocker&quot;));</div></pre></td></tr></table></figure>
<h2 id="Thread-java"><a href="#Thread-java" class="headerlink" title="Thread.java"></a>Thread.java</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">/**</div><div class="line">    * The argument supplied to the current call to</div><div class="line">    * java.util.concurrent.locks.LockSupport.park.</div><div class="line">    * Set by (private) java.util.concurrent.locks.LockSupport.setBlocker</div><div class="line">    * Accessed using java.util.concurrent.locks.LockSupport.getBlocker</div><div class="line">    */</div><div class="line">   volatile Object parkBlocker;</div></pre></td></tr></table></figure>
<blockquote>
<p>JVM的实现可以自由选择如何实现Java对象的“布局”，也就是在内存里Java对象的各个部分放在哪里，包括对象的实例字段和一些元数据等。<br>sun.misc.Unsafe里关于对象字段访问的方法把对象布局抽象出来，它提供了objectFieldOffset()方法用于获取某个字段相对 Java对象的“起始地址”的偏移量，也提供了getInt、getLong、getObject之类的方法可以使用前面获取的偏移量来访问某个Java 对象的某个字段</p>
</blockquote>
<p><strong>为什么要用偏移量来获取对象？不直接调用get/set方法？</strong></p>
<blockquote>
<p>parkBlocker就是在线程处于阻塞的情况下才会被赋值。线程都已经阻塞了，如果不通过这种内存的方法，而是直接调用线程内的方法，线程是不会回应调用的</p>
</blockquote>
<hr>
<h2 id="LockSupport-Method"><a href="#LockSupport-Method" class="headerlink" title="LockSupport Method"></a>LockSupport Method</h2><ul>
<li>LockSupport中有且只有一个私有方法<ul>
<li><strong>对给定线程t的parkBlocker赋值。为了防止这个parkBlocker被误用，该方法是不对外公开的</strong><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">private static void setBlocker(Thread t, Object arg) &#123;</div><div class="line">        // Even though volatile, hotspot doesn&apos;t need a write barrier here.</div><div class="line">        UNSAFE.putObject(t, parkBlockerOffset, arg);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
<p>参数</p>
<ul>
<li>Thread t 需要被赋值Blocker的线程</li>
<li>Object arg 具体的Blocker对象</li>
</ul>
<hr>
<ul>
<li>从线程t中获取它的parkBlocker对象，即返回的是阻塞线程t的Blocker对象<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">public static Object getBlocker(Thread t) &#123;  </div><div class="line">    if (t == null)  </div><div class="line">        throw new NullPointerException();  </div><div class="line">    return unsafe.getObjectVolatile(t, parkBlockerOffset);  </div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="以park开头的方法，用于阻塞线程"><a href="#以park开头的方法，用于阻塞线程" class="headerlink" title="以park开头的方法，用于阻塞线程"></a>以park开头的方法，用于阻塞线程</h3><p><strong>带blocker参数的park方法</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line">public static void park(Object blocker) &#123;</div><div class="line">        Thread t = Thread.currentThread();</div><div class="line">        setBlocker(t, blocker);</div><div class="line">        UNSAFE.park(false, 0L);</div><div class="line">        setBlocker(t, null);</div><div class="line">&#125;</div><div class="line"></div><div class="line">public static void parkNanos(Object blocker, long nanos) &#123;</div><div class="line">        if (nanos &gt; 0) &#123;</div><div class="line">            Thread t = Thread.currentThread();</div><div class="line">            setBlocker(t, blocker);</div><div class="line">            UNSAFE.park(false, nanos);</div><div class="line">            setBlocker(t, null);</div><div class="line">        &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">public static void parkUntil(Object blocker, long deadline) &#123;</div><div class="line">        Thread t = Thread.currentThread();</div><div class="line">        setBlocker(t, blocker);</div><div class="line">        UNSAFE.park(true, deadline);</div><div class="line">        setBlocker(t, null);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>参数：</p>
<ul>
<li>Object blocker：用于记录到线程中的parkBlocker对象。</li>
<li>nanos：在nanos时间后线程自动恢复挂起</li>
<li>deadline：在deadline时刻线程自动（这个毫秒其实就是自1970年1月1日0时起的毫秒数）</li>
</ul>
<p><strong>不带blocker参数的park方法</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">public static void park() &#123;</div><div class="line">        UNSAFE.park(false, 0L);</div><div class="line">&#125;</div><div class="line"></div><div class="line">public static void parkNanos(long nanos) &#123;</div><div class="line">        if (nanos &gt; 0)</div><div class="line">            UNSAFE.park(false, nanos);</div><div class="line">&#125;</div><div class="line"></div><div class="line">public static void parkUntil(long deadline) &#123;</div><div class="line">        UNSAFE.park(true, deadline);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<ul>
<li>没有做parkBlocker的赋值操作</li>
</ul>
<h3 id="以unpark开头的方法，用于解除阻塞"><a href="#以unpark开头的方法，用于解除阻塞" class="headerlink" title="以unpark开头的方法，用于解除阻塞"></a>以unpark开头的方法，用于解除阻塞</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">public static void unpark(Thread thread) &#123;</div><div class="line">        if (thread != null)</div><div class="line">            UNSAFE.unpark(thread);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<blockquote>
<p>park与unpark命令是成对出现的。unpark必须要在park命令后执行。但是线程的恢复并不一定要用unpark, 因为park的时间参数，有些情况下线程会自己恢复</p>
</blockquote>
<p><a href="https://my.oschina.net/readjava/blog/282882" target="_blank" rel="external">源码参考</a></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/06/05/线程笔记——AQS（AbstractQueuedSynchronizer）/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="dzx">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="http://wx2.sinaimg.cn/mw690/63b4ac8dgy1ffzs5lll1oj20zk0qoq4z.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="dzxblog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/06/05/线程笔记——AQS（AbstractQueuedSynchronizer）/" itemprop="url">线程笔记——AQS（AbstractQueuedSynchronizer）</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-06-05T10:39:35+08:00">
                2017-06-05
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/多线程/" itemprop="url" rel="index">
                    <span itemprop="name">多线程</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>AQS : <strong>java.util.concurrent.locks.AbstractQueuedSynchronizer</strong></p>
<p>研究java.util.concurrent并发包的突破口(例如: ReentrantLock核心是内部类Sync，然而Sync继承AQS)</p>
</blockquote>
<h2 id="AQS核心"><a href="#AQS核心" class="headerlink" title="AQS核心"></a>AQS核心</h2><blockquote>
<p><strong>通过一个共享变量来同步状态，变量的状态由子类去维护，</strong></p>
</blockquote>
<ul>
<li>线程阻塞队列的维护</li>
<li>线程阻塞和唤醒</li>
</ul>
<blockquote>
<p>共享变量的修改都是通过Unsafe类提供的CAS操作完成的<br>AbstractQueuedSynchronizer类的主要方法是acquire和release（模板方法）</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">protected boolean tryAcquire(int arg)</div><div class="line">protected boolean tryRelease(int arg)</div><div class="line">protected int tryAcquireShared(int arg)</div><div class="line">protected boolean tryReleaseShared(int arg)</div></pre></td></tr></table></figure>
<ul>
<li>acquire方法用来获取锁，返回true说明线程获取成功继续执行，一旦返回false则线程加入到等待队列中，等待被唤醒。</li>
<li>release方法用来释放锁。 一般来说实现的时候这两个方法被封装为lock和unlock方法。</li>
</ul>
<h2 id="AQS思路"><a href="#AQS思路" class="headerlink" title="AQS思路"></a>AQS思路</h2><blockquote>
<p>在获取锁时候，先判断当前状态是否允许获取锁，若是可以则获取锁，否则获取不成功。获取不成功则会阻塞，进入阻塞队列。而释放锁时，一般会修改状态位，唤醒队列中的阻塞线程</p>
</blockquote>
<p><img src="http://img.blog.csdn.net/20170410103109328?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMjA1OTc0Nzk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述"><br><img src="http://img.blog.csdn.net/20170410103117469?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMjA1OTc0Nzk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div></pre></td><td class="code"><pre><div class="line">/**</div><div class="line">    * 锁同步的基础Sync类</div><div class="line">    * AQS代表持有锁的数量</div><div class="line">    */</div><div class="line">   abstract static class Sync extends AbstractQueuedSynchronizer &#123;</div><div class="line">   </div><div class="line">       abstract void lock();</div><div class="line"></div><div class="line">       final boolean nonfairTryAcquire(int acquires) &#123;</div><div class="line">           final Thread current = Thread.currentThread();</div><div class="line">           int c = getState();</div><div class="line">           if (c == 0) &#123;</div><div class="line">               if (compareAndSetState(0, acquires)) &#123;</div><div class="line">                   setExclusiveOwnerThread(current);</div><div class="line">                   return true;</div><div class="line">               &#125;</div><div class="line">           &#125;</div><div class="line">           else if (current == getExclusiveOwnerThread()) &#123;</div><div class="line">               int nextc = c + acquires;</div><div class="line">               if (nextc &lt; 0) // overflow</div><div class="line">                   throw new Error(&quot;Maximum lock count exceeded&quot;);</div><div class="line">               setState(nextc);</div><div class="line">               return true;</div><div class="line">           &#125;</div><div class="line">           return false;</div><div class="line">       &#125;</div><div class="line"></div><div class="line">       protected final boolean tryRelease(int releases) &#123;</div><div class="line">           int c = getState() - releases;</div><div class="line">           if (Thread.currentThread() != getExclusiveOwnerThread())</div><div class="line">               throw new IllegalMonitorStateException();</div><div class="line">           boolean free = false;</div><div class="line">           if (c == 0) &#123;</div><div class="line">               free = true;</div><div class="line">               setExclusiveOwnerThread(null);</div><div class="line">           &#125;</div><div class="line">           setState(c);</div><div class="line">           return free;</div><div class="line">       &#125;</div><div class="line"></div><div class="line">       protected final boolean isHeldExclusively() &#123;</div><div class="line">           return getExclusiveOwnerThread() == Thread.currentThread();</div><div class="line">       &#125;</div><div class="line"></div><div class="line">       final ConditionObject newCondition() &#123;</div><div class="line">           return new ConditionObject();</div><div class="line">       &#125;</div><div class="line"></div><div class="line">    </div><div class="line">       final Thread getOwner() &#123;</div><div class="line">           return getState() == 0 ? null : getExclusiveOwnerThread();</div><div class="line">       &#125;</div><div class="line"></div><div class="line">       final int getHoldCount() &#123;</div><div class="line">           return isHeldExclusively() ? getState() : 0;</div><div class="line">       &#125;</div><div class="line"></div><div class="line">       final boolean isLocked() &#123;</div><div class="line">           return getState() != 0;</div><div class="line">       &#125;</div><div class="line"></div><div class="line">       private void readObject(java.io.ObjectInputStream s)</div><div class="line">           throws java.io.IOException, ClassNotFoundException &#123;</div><div class="line">           s.defaultReadObject();</div><div class="line">           setState(0); </div><div class="line">       &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><a href="http://www.infoq.com/cn/articles/jdk1.8-abstractqueuedsynchronizer" target="_blank" rel="external">AQS概念理解</a><br><a href="http://ifeve.com/abstractqueuedsynchronizer-use/" target="_blank" rel="external">并发编程AQS参考</a><br><a href="http://www.cnblogs.com/zhanjindong/p/java-concurrent-package-aqs-overview.html" target="_blank" rel="external">AQS系列博文</a></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/06/05/【Java8】Guava——Predicate/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="dzx">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="http://wx2.sinaimg.cn/mw690/63b4ac8dgy1ffzs5lll1oj20zk0qoq4z.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="dzxblog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/06/05/【Java8】Guava——Predicate/" itemprop="url">【Java8】Guava——Predicate</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-06-05T10:38:32+08:00">
                2017-06-05
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Guava/" itemprop="url" rel="index">
                    <span itemprop="name">Guava</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="Predicate"><a href="#Predicate" class="headerlink" title="Predicate"></a>Predicate</h2><p>Guava</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">@FunctionalInterface</div><div class="line">@GwtCompatible</div><div class="line">public interface Predicate&lt;T&gt; extends java.util.function.Predicate&lt;T&gt; &#123;</div><div class="line"> </div><div class="line">  @CanIgnoreReturnValue</div><div class="line">  boolean apply(@Nullable T input);</div><div class="line"></div><div class="line"> </div><div class="line">  @Override</div><div class="line">  boolean equals(@Nullable Object object);</div><div class="line"></div><div class="line">  @Override</div><div class="line">  default boolean test(@Nullable T input) &#123;</div><div class="line">    return apply(input);</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>java8</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div></pre></td><td class="code"><pre><div class="line">@FunctionalInterface</div><div class="line">public interface Predicate&lt;T&gt; &#123;</div><div class="line"></div><div class="line">    boolean test(T t);</div><div class="line"></div><div class="line">    </div><div class="line">    default Predicate&lt;T&gt; and(Predicate&lt;? super T&gt; other) &#123;</div><div class="line">        Objects.requireNonNull(other);</div><div class="line">        return (t) -&gt; test(t) &amp;&amp; other.test(t);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    </div><div class="line">    default Predicate&lt;T&gt; negate() &#123;</div><div class="line">        return (t) -&gt; !test(t);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    </div><div class="line">    default Predicate&lt;T&gt; or(Predicate&lt;? super T&gt; other) &#123;</div><div class="line">        Objects.requireNonNull(other);</div><div class="line">        return (t) -&gt; test(t) || other.test(t);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    </div><div class="line">    static &lt;T&gt; Predicate&lt;T&gt; isEqual(Object targetRef) &#123;</div><div class="line">        return (null == targetRef)</div><div class="line">                ? Objects::isNull</div><div class="line">                : object -&gt; targetRef.equals(object);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<blockquote>
<p><strong>Predicate是简化版的Function。唯一的区别Predicate返回boolean</strong></p>
</blockquote>
<h3 id="简单实例"><a href="#简单实例" class="headerlink" title="简单实例"></a>简单实例</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">Predicate&lt;String&gt; lengthLessThen10 = new Predicate&lt;String&gt;() &#123;</div><div class="line">    public boolean apply(String input) &#123;</div><div class="line">        return input.length() &lt; 10;</div><div class="line">    &#125;</div><div class="line">&#125;;</div><div class="line">lengthLessThen10.apply(&quot;lessThen10&quot;);//false</div></pre></td></tr></table></figure>
<p>相当于</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">Function&lt;Integer, Predicate&lt;String&gt;&gt; lengthLessThen = new Function&lt;Integer, Predicate&lt;String&gt;&gt;() &#123;</div><div class="line">    public Predicate&lt;String&gt; apply(final Integer input) &#123;</div><div class="line">        return new Predicate&lt;String&gt;() &#123;</div><div class="line">            public boolean apply(String str) &#123;</div><div class="line">                return str.length() &lt; input;</div><div class="line">            &#125;</div><div class="line">        &#125;;</div><div class="line">    &#125;</div><div class="line">&#125;;</div><div class="line">lengthLessThen.apply(10).apply(&quot;lessThen10&quot;);//false</div></pre></td></tr></table></figure>
<blockquote>
<p>定义了一个 Function，接受 Integer 类型的参数，返回 Predicate 实例；在实例化 Predicate 的时候，我们访问了匿名类外部的变量，也即 Function 实例的 apply 方法的参数，由于 Java 语言的限制，匿名类内部用到的外部变量必须声明为 final</p>
</blockquote>
<h2 id="Predicates"><a href="#Predicates" class="headerlink" title="Predicates"></a>Predicates</h2><blockquote>
<p>Predicates 是 Guava 中与 Predicate 接口配套使用的工具类，提供了一些非常有用的工具类，比如使用 and 和 or 组合多个谓词，还有 not 将谓词的条件取反</p>
</blockquote>
<p><img src="http://img.blog.csdn.net/20170410173435666?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMjA1OTc0Nzk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述"><br><img src="http://img.blog.csdn.net/20170410173444323?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMjA1OTc0Nzk=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述"></p>
<p><a href="https://blog.jamespan.me/2015/03/30/guava-functional-programing-2" target="_blank" rel="external">Predicate具体参考</a></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/7/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/7/">7</a><span class="page-number current">8</span><a class="page-number" href="/page/9/">9</a><a class="page-number" href="/page/10/">10</a><a class="extend next" rel="next" href="/page/9/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="http://wx2.sinaimg.cn/mw690/63b4ac8dgy1ffzs5lll1oj20zk0qoq4z.jpg"
               alt="dzx" />
          <p class="site-author-name" itemprop="name">dzx</p>
           
              <p class="site-description motion-element" itemprop="description"></p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives">
                <span class="site-state-item-count">97</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-categories">
              
                <span class="site-state-item-count">34</span>
                <span class="site-state-item-name">分类</span>
              
            </div>
          

          
            
            
            <div class="site-state-item site-state-tags">
              
                <span class="site-state-item-count">82</span>
                <span class="site-state-item-name">标签</span>
              
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

        


      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">dzx</span>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Muse
  </a>
</div>


        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.1"></script>



  
  

  
    <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.1"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.1"></script>

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.1"></script>



  


  




	





  





  





  






  





  

  

  

  

  

  

</body>
</html>
